name: autocycler
description: a tool for generating consensus bacterial genome assemblies
usage: autocycler <COMMAND>
options:
  - names:
      - -h
      - --help
    argument: ""
    description: Print help
  - names:
      - -V
      - --version
    argument: ""
    description: Print version
subcommands:
  - name: clean
    description: manual manipulation of the final consensus assebly graph
    usage: autocycler clean [OPTIONS] --in_gfa <IN_GFA> --out_gfa <OUT_GFA>
    options:
      - names:
          - -i
          - --in_gfa
        argument: <IN_GFA>
        description: Autocycler GFA file (required)
      - names:
          - -o
          - --out_gfa
        argument: <OUT_GFA>
        description: Output GFA file (required)
      - names:
          - -r
          - --remove
        argument: <REMOVE>
        description: Tig numbers to remove from the input graph
      - names:
          - -d
          - --duplicate
        argument: <DUPLICATE>
        description: Tig numbers to duplicate in the input graph
      - names:
          - -m
          - --min_depth
        argument: <MIN_DEPTH>
        description: Automatically remove tigs up to this depth
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: cluster
    description: cluster contigs in the unitig graph based on similarity
    usage: autocycler cluster [OPTIONS] --autocycler_dir <AUTOCYCLER_DIR>
    options:
      - names:
          - -a
          - --autocycler_dir
        argument: <AUTOCYCLER_DIR>
        description: Autocycler directory containing input_assemblies.gfa file (required)
      - names:
          - --cutoff
        argument: <CUTOFF>
        description: 'cutoff distance threshold for hierarchical clustering [default: 0.2]'
      - names:
          - --min_assemblies
        argument: <MIN_ASSEMBLIES>
        description: 'exclude clusters with fewer than this many assemblies [default: automatic]'
      - names:
          - --max_contigs
        argument: <MAX_CONTIGS>
        description: 'refuse to run if mean contigs per assembly exceeds this value [default: 25]'
      - names:
          - --manual
        argument: <MANUAL>
        description: 'manually define clusters using tree node numbers [default: automatic]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: combine
    description: combine Autocycler GFAs into one assembly
    usage: autocycler combine --autocycler_dir <AUTOCYCLER_DIR> --in_gfas <IN_GFAS>...
    options:
      - names:
          - -a
          - --autocycler_dir
        argument: <AUTOCYCLER_DIR>
        description: Autocycler directory (required)
      - names:
          - -i
          - --in_gfas
        argument: <IN_GFAS>...
        description: Autocycler cluster GFA files (one or more required)
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: compress
    description: compress input contigs into a unitig graph
    usage: autocycler compress [OPTIONS] --assemblies_dir <ASSEMBLIES_DIR> --autocycler_dir <AUTOCYCLER_DIR>
    options:
      - names:
          - -i
          - --assemblies_dir
        argument: <ASSEMBLIES_DIR>
        description: Directory containing input assemblies (required)
      - names:
          - -a
          - --autocycler_dir
        argument: <AUTOCYCLER_DIR>
        description: Autocycler directory to be created (required)
      - names:
          - --kmer
        argument: <KMER>
        description: 'K-mer size for De Bruijn graph [default: 51]'
      - names:
          - --max_contigs
        argument: <MAX_CONTIGS>
        description: 'refuse to run if mean contigs per assembly exceeds this value [default: 25]'
      - names:
          - -t
          - --threads
        argument: <THREADS>
        description: 'Number of CPU threads [default: 8]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: decompress
    description: decompress contigs from a unitig graph
    usage: autocycler decompress [OPTIONS] --in_gfa <IN_GFA>
    options:
      - names:
          - -i
          - --in_gfa
        argument: <IN_GFA>
        description: Autocycler GFA file (required)
      - names:
          - -o
          - --out_dir
        argument: <OUT_DIR>
        description: Directory where decompressed sequences will be saved (either -o or -f is required)
      - names:
          - -f
          - --out_file
        argument: <OUT_FILE>
        description: FASTA file where decompressed sequences will be saved (either -o or -f is required)
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: dotplot
    description: generate an all-vs-all dotplot from a unitig graph
    usage: autocycler dotplot [OPTIONS] --input <INPUT> --out_png <OUT_PNG>
    options:
      - names:
          - -i
          - --input
        argument: <INPUT>
        description: Input Autocycler GFA file, FASTA file or directory (required)
      - names:
          - -o
          - --out_png
        argument: <OUT_PNG>
        description: File path where dotplot PNG will be saved (required)
      - names:
          - --res
        argument: <RES>
        description: 'Size (in pixels) of dotplot image [default: 2000]'
      - names:
          - --kmer
        argument: <KMER>
        description: 'K-mer size to use in dotplot [default: 32]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: gfa2fasta
    description: convert an Autocycler GFA file to FASTA format
    usage: autocycler gfa2fasta --in_gfa <IN_GFA> --out_fasta <OUT_FASTA>
    options:
      - names:
          - -i
          - --in_gfa
        argument: <IN_GFA>
        description: Input Autocycler GFA file (required)
      - names:
          - -o
          - --out_fasta
        argument: <OUT_FASTA>
        description: Output FASTA file (required)
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: helper
    description: helper commands for long-read assemblers
    usage: autocycler helper [OPTIONS] --reads <READS> <TASK>
    options:
      - names:
          - -r
          - --reads
        argument: <READS>
        description: Input long reads in FASTQ format (required)
      - names:
          - -o
          - --out_prefix
        argument: <OUT_PREFIX>
        description: Output prefix (required for all tasks except genome_size)
      - names:
          - -g
          - --genome_size
        argument: <GENOME_SIZE>
        description: Estimated genome size (required for some tasks)
      - names:
          - -t
          - --threads
        argument: <THREADS>
        description: 'Number of CPU threads [default: 8]'
      - names:
          - -d
          - --dir
        argument: <DIR>
        description: 'Working directory [default: use a temporary directory]'
      - names:
          - --read_type
        argument: <READ_TYPE>
        description: 'Read type [default: ont_r10] [possible values: ont_r9, ont_r10, pacbio_clr, pacbio_hifi]'
      - names:
          - --min_depth_abs
        argument: <MIN_DEPTH_ABS>
        description: Exclude contigs with read depth less than this absolute value
      - names:
          - --min_depth_rel
        argument: <MIN_DEPTH_REL>
        description: Exclude contigs with read depth less than this fraction of the longest contig's depth
      - names:
          - --args
        argument: <ARGS>...
        description: Additional arguments for the task
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: resolve
    description: resolve repeats in the the unitig graph
    usage: autocycler resolve [OPTIONS] --cluster_dir <CLUSTER_DIR>
    options:
      - names:
          - -c
          - --cluster_dir
        argument: <CLUSTER_DIR>
        description: Autocycler directory (required)
      - names:
          - --verbose
        argument: ""
        description: Enable verbose output
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: subsample
    description: subsample a long-read set
    usage: autocycler subsample [OPTIONS] --reads <READS> --out_dir <OUT_DIR> --genome_size <GENOME_SIZE>
    options:
      - names:
          - -r
          - --reads
        argument: <READS>
        description: Input long reads in FASTQ format (required)
      - names:
          - -o
          - --out_dir
        argument: <OUT_DIR>
        description: Output directory (required)
      - names:
          - -g
          - --genome_size
        argument: <GENOME_SIZE>
        description: Estimated genome size (required)
      - names:
          - -c
          - --count
        argument: <COUNT>
        description: 'Number of subsampled read sets to output [default: 4]'
      - names:
          - -d
          - --min_read_depth
        argument: <MIN_READ_DEPTH>
        description: 'Minimum allowed read depth [default: 25.0]'
      - names:
          - -s
          - --seed
        argument: <SEED>
        description: 'Seed for random number generator [default: 0]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: table
    description: create TSV line from YAML files
    usage: autocycler table [OPTIONS]
    options:
      - names:
          - -a
          - --autocycler_dir
        argument: <AUTOCYCLER_DIR>
        description: Autocycler directory (if absent, a header line will be output)
      - names:
          - -n
          - --name
        argument: <NAME>
        description: 'Sample name [default: blank]'
      - names:
          - -f
          - --fields
        argument: <FIELDS>
        description: 'Comma-delimited list of YAML fields to include [default: "input_read_count, input_read_bases, input_read_n50, pass_cluster_count, fail_cluster_count, overall_clustering_score, untrimmed_cluster_size, untrimmed_cluster_distance, trimmed_cluster_size, trimmed_cluster_median, trimmed_cluster_mad, consensus_assembly_bases, consensus_assembly_unitigs, consensus_assembly_fully_resolved"]'
      - names:
          - -s
          - --sigfigs
        argument: <SIGFIGS>
        description: 'Significant figures to use for floating point numbers [default: 3]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
  - name: trim
    description: trim contigs in a cluster
    usage: autocycler trim [OPTIONS] --cluster_dir <CLUSTER_DIR>
    options:
      - names:
          - -c
          - --cluster_dir
        argument: <CLUSTER_DIR>
        description: Autocycler cluster directory containing 1_untrimmed.gfa file (required)
      - names:
          - --min_identity
        argument: <MIN_IDENTITY>
        description: 'Minimum alignment identity for trimming alignments [default: 0.75]'
      - names:
          - --max_unitigs
        argument: <MAX_UNITIGS>
        description: 'Maximum unitigs used for overlap alignment, set to 0 to disable trimming [default: 5000]'
      - names:
          - --mad
        argument: <MAD>
        description: 'Allowed variability in cluster length, measured in median absolute deviations, set to 0 to disable exclusion of length outliers [default: 5.0]'
      - names:
          - -t
          - --threads
        argument: <THREADS>
        description: 'Number of CPU threads [default: 8]'
      - names:
          - -h
          - --help
        argument: ""
        description: Print help
      - names:
          - -V
          - --version
        argument: ""
        description: Print version
version: Autocycler 0.5.2
