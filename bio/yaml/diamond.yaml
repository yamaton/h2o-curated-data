name: diamond
description: diamond
options: []
inheritedOptions:
  - names:
      - --threads
      - -p
    argument: ""
    description: number of CPU threads
  - names:
      - --db
      - -d
    argument: ""
    description: database file
  - names:
      - --out
      - -o
    argument: ""
    description: output file
  - names:
      - --outfmt
      - -f
    argument: ""
    description: output format
  - names:
      - --verbose
      - -v
    argument: ""
    description: verbose console output
  - names:
      - --log
    argument: ""
    description: enable debug log
  - names:
      - --quiet
    argument: ""
    description: disable console output
  - names:
      - --header
    argument: ""
    description: Write header lines to blast tabular format.

  - names:
      - --algo
    argument: ""
    description: Seed search algorithm (0=double-indexed/1=query-indexed/ctg=contiguous-seed)
  - names:
      - --bin
    argument: ""
    description: number of query bins for seed search
  - names:
      - --min-orf
      - -l
    argument: ""
    description: ignore translated sequences without an open reading frame of at least this length
  - names:
      - --seed-cut
    argument: ""
    description: cutoff for seed complexity
  - names:
      - --freq-masking
    argument: ""
    description: mask seeds based on frequency
  - names:
      - --freq-sd
    argument: ""
    description: number of standard deviations for ignoring frequent seeds
  - names:
      - --motif-masking
    argument: ""
    description: softmask abundant motifs (0/1)
  - names:
      - --id2
    argument: ""
    description: minimum number of identities for stage 1 hit
  - names:
      - --xdrop
      - -x
    argument: ""
    description: xdrop for ungapped alignment
  - names:
      - --gapped-filter-evalue
    argument: ""
    description: E-value threshold for gapped filter (auto)
  - names:
      - --band
    argument: ""
    description: band for dynamic programming computation
  - names:
      - --shapes
      - -s
    argument: ""
    description: number of seed shapes (default=all available)
  - names:
      - --shape-mask
    argument: ""
    description: seed shapes
  - names:
      - --multiprocessing
    argument: ""
    description: enable distributed-memory parallel processing
  - names:
      - --mp-init
    argument: ""
    description: initialize multiprocessing run
  - names:
      - --mp-recover
    argument: ""
    description: enable continuation of interrupted multiprocessing run
  - names:
      - --mp-query-chunk
    argument: ""
    description: process only a single query chunk as specified
  - names:
      - --ext-chunk-size
    argument: ""
    description: chunk size for adaptive ranking (default=auto)
  - names:
      - --no-ranking
    argument: ""
    description: disable ranking heuristic
  - names:
      - --ext
    argument: ""
    description: Extension mode (banded-fast/banded-slow/full)
  - names:
      - --culling-overlap
    argument: ""
    description: minimum range overlap with higher scoring hit to delete a hit (default=50%)
  - names:
      - --taxon-k
    argument: ""
    description: maximum number of targets to report per species
  - names:
      - --range-cover
    argument: ""
    description: percentage of query range to be covered for range culling (default=50%)
  - names:
      - --dbsize
    argument: ""
    description: effective database size (in letters)
  - names:
      - --no-auto-append
    argument: ""
    description: disable auto appending of DAA and DMND file extensions
  - names:
      - --xml-blord-format
    argument: ""
    description: Use gnl|BL_ORD_ID| style format in XML output
  - names:
      - --stop-match-score
    argument: ""
    description: Set the match score of stop codons against each other.
  - names:
      - --tantan-minMaskProb
    argument: ""
    description: minimum repeat probability for masking (default=0.9)
  - names:
      - --file-buffer-size
    argument: ""
    description: file buffer size in bytes (default=67108864)
  - names:
      - --memory-limit
      - -M
    argument: ""
    description: Memory limit for extension stage in GB
  - names:
      - --no-unlink
    argument: ""
    description: Do not unlink temporary files.
  - names:
      - --target-indexed
    argument: ""
    description: Enable target-indexed mode
  - names:
      - --ignore-warnings
    argument: ""
    description: Ignore warnings


subcommands:
  - name: makedb
    description: Build DIAMOND database from a FASTA file
    options:
      - names:
          - --in
        argument: ""
        description: input reference file in FASTA format
      - names:
          - --taxonmap
        argument: ""
        description: protein accession to taxid mapping file
      - names:
          - --taxonnodes
        argument: ""
        description: taxonomy nodes.dmp from NCBI
      - names:
          - --taxonnames
        argument: ""
        description: taxonomy names.dmp from NCBI
  - name: prepdb
    description: Prepare BLAST database for use with Diamond
    options: []
  - name: blastp
    description: Align amino acid query sequences against a protein reference database
    options:
      - names:
          - --query
          - -q
        argument: ""
        description: input query file
      - names:
          - --strand
        argument: ""
        description: query strands to search (both/minus/plus)
      - names:
          - --un
        argument: ""
        description: file for unaligned queries
      - names:
          - --al
        argument: ""
        description: file or aligned queries
      - names:
          - --unfmt
        argument: ""
        description: format of unaligned query file (fasta/fastq)
      - names:
          - --alfmt
        argument: ""
        description: format of aligned query file (fasta/fastq)
      - names:
          - --unal
        argument: ""
        description: report unaligned queries (0=no, 1=yes)
      - names:
          - --max-target-seqs
          - -k
        argument: ""
        description: maximum number of target sequences to report alignments for (default=25)
      - names:
          - --top
        argument: ""
        description: report alignments within this percentage range of top alignment score (overrides --max-target-seqs)
      - names:
          - --max-hsps
        argument: ""
        description: maximum number of HSPs per target sequence to report for each query (default=1)
      - names:
          - --range-culling
        argument: ""
        description: restrict hit culling to overlapping query ranges
      - names:
          - --compress
        argument: ""
        description: compression for output files (0=none, 1=gzip, zstd)
      - names:
          - --evalue
          - -e
        argument: ""
        description: maximum e-value to report alignments (default=0.001)
      - names:
          - --min-score
        argument: ""
        description: minimum bit score to report alignments (overrides e-value setting)
      - names:
          - --id
        argument: ""
        description: minimum identity% to report an alignment
      - names:
          - --query-cover
        argument: ""
        description: minimum query cover% to report an alignment
      - names:
          - --subject-cover
        argument: ""
        description: minimum subject cover% to report an alignment
      - names:
          - --fast
        argument: ""
        description: enable fast mode
      - names:
          - --mid-sensitive
        argument: ""
        description: enable mid-sensitive mode
      - names:
          - --sensitive
        argument: ""
        description: enable sensitive mode)
      - names:
          - --more-sensitive
        argument: ""
        description: enable more sensitive mode
      - names:
          - --very-sensitive
        argument: ""
        description: enable very sensitive mode
      - names:
          - --ultra-sensitive
        argument: ""
        description: enable ultra sensitive mode
      - names:
          - --iterate
        argument: ""
        description: iterated search with increasing sensitivity
      - names:
          - --global-ranking
          - -g
        argument: ""
        description: number of targets for global ranking
      - names:
          - --block-size
          - -b
        argument: ""
        description: sequence block size in billions of letters (default=2.0)
      - names:
          - --index-chunks
          - -c
        argument: ""
        description: number of chunks for index processing (default=4)
      - names:
          - --tmpdir
          - -t
        argument: ""
        description: directory for temporary files
      - names:
          - --parallel-tmpdir
        argument: ""
        description: directory for temporary files used by multiprocessing
      - names:
          - --gapopen
        argument: ""
        description: gap open penalty
      - names:
          - --gapextend
        argument: ""
        description: gap extension penalty
      - names:
          - --frameshift
          - -F
        argument: ""
        description: frame shift penalty (default=disabled)
      - names:
          - --long-reads
        argument: ""
        description: short for --range-culling --top 10 -F 15
      - names:
          - --matrix
        argument: ""
        description: score matrix for protein alignment (default=BLOSUM62)
      - names:
          - --custom-matrix
        argument: ""
        description: file containing custom scoring matrix
      - names:
          - --comp-based-stats
        argument: ""
        description: composition based statistics mode (0-4)
      - names:
          - --masking
        argument: ""
        description: masking algorithm (none, seg, tantan=default)
      - names:
          - --query-gencode
        argument: ""
        description: genetic code to use to translate query (see user manual)
      - names:
          - --salltitles
        argument: ""
        description: include full subject titles in DAA file
      - names:
          - --sallseqid
        argument: ""
        description: include all subject ids in DAA file
      - names:
          - --no-self-hits
        argument: ""
        description: suppress reporting of identical self hits
      - names:
          - --taxonlist
        argument: ""
        description: restrict search to list of taxon ids (comma-separated)
      - names:
          - --taxon-exclude
        argument: ""
        description: exclude list of taxon ids (comma-separated)
      - names:
          - --seqidlist
        argument: ""
        description: filter the database by list of accessions
      - names:
          - --skip-missing-seqids
        argument: ""
        description: ignore accessions missing in the database

  - name: blastx
    description: Align DNA query sequences against a protein reference database
    options:
      - names:
          - --query
          - -q
        argument: ""
        description: input query file
      - names:
          - --strand
        argument: ""
        description: query strands to search (both/minus/plus)
      - names:
          - --un
        argument: ""
        description: file for unaligned queries
      - names:
          - --al
        argument: ""
        description: file or aligned queries
      - names:
          - --unfmt
        argument: ""
        description: format of unaligned query file (fasta/fastq)
      - names:
          - --alfmt
        argument: ""
        description: format of aligned query file (fasta/fastq)
      - names:
          - --unal
        argument: ""
        description: report unaligned queries (0=no, 1=yes)
      - names:
          - --max-target-seqs
          - -k
        argument: ""
        description: maximum number of target sequences to report alignments for (default=25)
      - names:
          - --top
        argument: ""
        description: report alignments within this percentage range of top alignment score (overrides --max-target-seqs)
      - names:
          - --max-hsps
        argument: ""
        description: maximum number of HSPs per target sequence to report for each query (default=1)
      - names:
          - --range-culling
        argument: ""
        description: restrict hit culling to overlapping query ranges
      - names:
          - --compress
        argument: ""
        description: compression for output files (0=none, 1=gzip, zstd)
      - names:
          - --evalue
          - -e
        argument: ""
        description: maximum e-value to report alignments (default=0.001)
      - names:
          - --min-score
        argument: ""
        description: minimum bit score to report alignments (overrides e-value setting)
      - names:
          - --id
        argument: ""
        description: minimum identity% to report an alignment
      - names:
          - --query-cover
        argument: ""
        description: minimum query cover% to report an alignment
      - names:
          - --subject-cover
        argument: ""
        description: minimum subject cover% to report an alignment
      - names:
          - --fast
        argument: ""
        description: enable fast mode
      - names:
          - --mid-sensitive
        argument: ""
        description: enable mid-sensitive mode
      - names:
          - --sensitive
        argument: ""
        description: enable sensitive mode)
      - names:
          - --more-sensitive
        argument: ""
        description: enable more sensitive mode
      - names:
          - --very-sensitive
        argument: ""
        description: enable very sensitive mode
      - names:
          - --ultra-sensitive
        argument: ""
        description: enable ultra sensitive mode
      - names:
          - --iterate
        argument: ""
        description: iterated search with increasing sensitivity
      - names:
          - --global-ranking
          - -g
        argument: ""
        description: number of targets for global ranking
      - names:
          - --block-size
          - -b
        argument: ""
        description: sequence block size in billions of letters (default=2.0)
      - names:
          - --index-chunks
          - -c
        argument: ""
        description: number of chunks for index processing (default=4)
      - names:
          - --tmpdir
          - -t
        argument: ""
        description: directory for temporary files
      - names:
          - --parallel-tmpdir
        argument: ""
        description: directory for temporary files used by multiprocessing
      - names:
          - --gapopen
        argument: ""
        description: gap open penalty
      - names:
          - --gapextend
        argument: ""
        description: gap extension penalty
      - names:
          - --frameshift
          - -F
        argument: ""
        description: frame shift penalty (default=disabled)
      - names:
          - --long-reads
        argument: ""
        description: short for --range-culling --top 10 -F 15
      - names:
          - --matrix
        argument: ""
        description: score matrix for protein alignment (default=BLOSUM62)
      - names:
          - --custom-matrix
        argument: ""
        description: file containing custom scoring matrix
      - names:
          - --comp-based-stats
        argument: ""
        description: composition based statistics mode (0-4)
      - names:
          - --masking
        argument: ""
        description: masking algorithm (none, seg, tantan=default)
      - names:
          - --query-gencode
        argument: ""
        description: genetic code to use to translate query (see user manual)
      - names:
          - --salltitles
        argument: ""
        description: include full subject titles in DAA file
      - names:
          - --sallseqid
        argument: ""
        description: include all subject ids in DAA file
      - names:
          - --no-self-hits
        argument: ""
        description: suppress reporting of identical self hits
      - names:
          - --taxonlist
        argument: ""
        description: restrict search to list of taxon ids (comma-separated)
      - names:
          - --taxon-exclude
        argument: ""
        description: exclude list of taxon ids (comma-separated)
      - names:
          - --seqidlist
        argument: ""
        description: filter the database by list of accessions
      - names:
          - --skip-missing-seqids
        argument: ""
        description: ignore accessions missing in the database

  - name: view
    description: View DIAMOND alignment archive (DAA) formatted file
    options:
      - names:
          - --daa
          - -a
        argument: ""
        description: DIAMOND alignment archive (DAA) file
      - names:
          - --forwardonly
        argument: ""
        description: only show alignments of forward strand

  - name: help
    description: Produce help message
    options: []

  - name: version
    description: Display version information
    options: []

  - name: getseq
    description: Retrieve sequences from a DIAMOND database file
    options:
      - names:
          - --seq
        argument: ""
        description: Space-separated list of sequence numbers to display.ond version 2.0.13

  - name: dbinfo
    description: Print information about a DIAMOND database file
    options: []

  - name: test
    description: Run regression tests
    options: []

  - name: makeidx
    description: Make database index
    options: []

version: diamond version 2.0.13

tldr: |
  > Accelerated BLAST compatible local sequence aligner.
  > More information <https://github.com/bbuchfink/diamond>

  - creating a diamond-formatted database file

  `diamond makedb --in {{reference.fasta}} -d {{reference}}`

  - running a search in blastp mode

  `diamond blastp -d {{reference}} -q {{queries.fasta}} -o {{matches.tsv}}`

  - running a search in blastx mode

  `diamond blastx -d {{reference}} -q {{reads.fasta}} -o {{matches.tsv}}`
