name: kmcp
description: a tool for metagenomic classification and profiling
usage: kmcp [command]
options:
  - names:
      - -h
      - --help
    argument: ""
    description: help for kmcp
  - names:
      - -i
      - --infile-list
    argument: string
    description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
  - names:
      - --log
    argument: string
    description: Log file.
  - names:
      - -q
      - --quiet
    argument: ""
    description: Do not print any verbose information. But you can write them to file with --log.
  - names:
      - -j
      - --threads
    argument: int
    description: Number of CPUs cores to use. (default 8)
subcommands:
  - name: autocompletion
    description: Generate shell autocompletion script
    usage: kmcp autocompletion [flags]
    options:
      - names:
          - --file
        argument: string
        description: autocompletion file (default "~/.bash_completion.d/kmcp.sh")
      - names:
          - -h
          - --help
        argument: ""
        description: help for autocompletion
      - names:
          - --shell
        argument: string
        description: autocompletion type (bash|zsh|fish|powershell) (default "bash")
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: compute
    description: Generate k-mers (sketches) from FASTA/Q sequences
    usage: kmcp compute [flags] [-k <k>] [-n <chunks>] [-l <overlap>] {[-I <seqs dir>] | <seq files>} -O <out dir>
    options:
      - names:
          - --by-seq
        argument: ""
        description: Compute k-mers (sketches) for each sequence, instead of the whole file.
      - names:
          - --circular
        argument: ""
        description: Input sequences are circular.
      - names:
          - -c
          - --compress
        argument: ""
        description: Output gzipped .unik files, it's slower and can save little space.
      - names:
          - -r
          - --file-regexp
        argument: string
        description: Regular expression for matching sequence files in -I/--in-dir, case ignored. (default "\\.(f[aq](st[aq])?|fna)(.gz)?$")
      - names:
          - --force
        argument: ""
        description: Overwrite existed output directory.
      - names:
          - -h
          - --help
        argument: ""
        description: help for compute
      - names:
          - -I
          - --in-dir
        argument: string
        description: Directory containing FASTA/Q files. Directory symlinks are followed.
      - names:
          - -k
          - --kmer
        argument: ints
        description: K-mer size(s). (default [21])
      - names:
          - -W
          - --minimizer-w
        argument: int
        description: Minimizer window size.
      - names:
          - -O
          - --out-dir
        argument: string
        description: Output directory.
      - names:
          - -N
          - --ref-name-regexp
        argument: string
        description: Regular expression (must contains "(" and ")") for extracting reference name from filename. (default "(?i)(.+)\\.(f[aq](st[aq])?|fna)(.gz)?$")
      - names:
          - -D
          - --scale
        argument: int
        description: Scale of the FracMinHash (Scaled MinHash), or down-sample factor for Syncmers and Minimizer. (default 1)
      - names:
          - -B
          - --seq-name-filter
        argument: strings
        description: List of regular expressions for filtering out sequences by header/name, case ignored.
      - names:
          - -m
          - --split-min-ref
        argument: int
        description: Only splitting sequences >= X bp. (default 1000)
      - names:
          - -n
          - --split-number
        argument: int
        description: Chunk number for splitting sequences, incompatible with -s/--split-size.
      - names:
          - -l
          - --split-overlap
        argument: int
        description: Chunk overlap for splitting sequences. The default value will be set to k-1 unless you change it.
      - names:
          - -s
          - --split-size
        argument: int
        description: Chunk size for splitting sequences, incompatible with -n/--split-number.
      - names:
          - -S
          - --syncmer-s
        argument: int
        description: Length of the s-mer in Closed Syncmers.
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: index
    description: Construct database from k-mer files
    usage: kmcp index [flags] [-f <fpr>] [-n <hashes>] [-j <blocks>] -I <compute output> -O <kmcp db>
    options:
      - names:
          - -a
          - --alias
        argument: string
        description: 'Database alias/name. (default: basename of --out-dir). You can also manually edit it in info file: ${outdir}/__db.yml.'
      - names:
          - -b
          - --block-size
        argument: int
        description: 'Block size, better be multiple of 64 for large number of input files. (default: min(#.files/#theads, 8))'
      - names:
          - "-1"
          - --block-size1-kmers-t
        argument: string
        description: 'If k-mers of single .unik file exceeds this threshold, an individual index is created for this file. Supported units: K, M, G. (default "200M")'
      - names:
          - "-8"
          - --block-size8-kmers-t
        argument: string
        description: 'If k-mers of single .unik file exceeds this threshold, block size is changed to 8. Supported units: K, M, G. (default "20M")'
      - names:
          - -X
          - --block-sizeX
        argument: int
        description: If k-mers of single .unik file exceeds --block-sizeX-kmers-t, block size is changed to this value. (default 256)
      - names:
          - -x
          - --block-sizeX-kmers-t
        argument: string
        description: 'If k-mers of single .unik file exceeds this threshold, block size is changed to --block-sizeX. Supported units: K, M, G. (default "10M")'
      - names:
          - --dry-run
        argument: ""
        description: Dry run, useful for adjusting parameters (highly recommended).
      - names:
          - -f
          - --false-positive-rate
        argument: float
        description: 'False positive rate of the bloom filters, range: (0, 1). (default 0.3)'
      - names:
          - --file-regexp
        argument: string
        description: Regular expression for matching files in -I/--in-dir, case ignored. (default ".unik$")
      - names:
          - --force
        argument: ""
        description: Overwrite existed output directory.
      - names:
          - -h
          - --help
        argument: ""
        description: help for index
      - names:
          - -I
          - --in-dir
        argument: string
        description: Directory containing .unik files. Directory symlinks are followed.
      - names:
          - -F
          - --max-open-files
        argument: int
        description: Maximum number of opened files, please use a small value for hard disk drive storage. (default 256)
      - names:
          - -n
          - --num-hash
        argument: int
        description: Number of hash functions in bloom filters. (default 1)
      - names:
          - -O
          - --out-dir
        argument: string
        description: 'Output directory. (default: ${indir}.kmcp-db)'
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: merge
    description: Merge search results from multiple databases
    usage: kmcp merge [flags] [-o read.tsv.gz] [<search results> ...]
    options:
      - names:
          - -n
          - --field-hits
        argument: int
        description: Field of hits. (default 5)
      - names:
          - -f
          - --field-queryIdx
        argument: int
        description: Field of queryIdx. (default 15)
      - names:
          - -h
          - --help
        argument: ""
        description: help for merge
      - names:
          - -H
          - --no-header-row
        argument: ""
        description: Do not print header row.
      - names:
          - -o
          - --out-file
        argument: string
        description: Out file, supports and recommends a ".gz" suffix ("-" for stdout). (default "-")
      - names:
          - -s
          - --sort-by
        argument: string
        description: Sort hits by "qcov", "tcov" or "jacc" (Jaccard Index). (default "qcov")
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: profile
    description: Generate taxonomic profile from search results
    usage: kmcp profile [flags] [-X <taxdump dir>] [-T <taxid.map>] [-m <mode>] [-o <kmcp profile>] <search results>
    options:
      - names:
          - -r
          - --min-chunks-reads
        argument: ""
        description: 1 5 10 50 100 100
      - names:
          - -p
          - --min-chunks-fraction
        argument: ""
        description: 0.2 0.6 0.7 0.8 1 1
      - names:
          - -d
          - --max-chunks-depth-stdev
        argument: ""
        description: 10 2 2 2 2 1.5
      - names:
          - -u
          - --min-uniq-reads
        argument: ""
        description: 1 2 5 20 50 50
      - names:
          - -U
          - --min-hic-ureads
        argument: ""
        description: 1 1 2 5 10 10
      - names:
          - -H
          - --min-hic-ureads-qcov
        argument: ""
        description: 0.7 0.7 0.7 0.75 0.8 0.8
      - names:
          - -P
          - --min-hic-ureads-prop
        argument: ""
        description: 0.01 0.1 0.2 0.1 0.1 0.15
      - names:
          - '-'
        argument: ""
        description: 'taxonkit profile2cami: convert any metagenomic profile table with TaxIds to CAMI format. Use this if you forget to output CAMI format.'
      - names:
          - '-'
        argument: ""
        description: 'taxonkit cami-filter: remove taxa of given TaxIds and their descendants in a CAMI metagenomic profile.'
      - names:
          - -C
          - -s
        argument: sample.c.profile
        description: 2. For pathogen detection (you may create databases with lower FPRs,
      - names:
          - -I
          - --abund-max-iters
        argument: int
        description: Miximal iteration of abundance estimation. (default 10)
      - names:
          - --abund-pct-threshold
        argument: float
        description: If the percentage change of the predominant target is smaller than this threshold, stop the iteration. (default 0.01)
      - names:
          - -B
          - --binning-result
        argument: string
        description: Save extra binning result in CAMI report.
      - names:
          - -C
          - --cami-report
        argument: string
        description: Save extra CAMI-like report.
      - names:
          - --debug
        argument: string
        description: Debug output file.
      - names:
          - -F
          - --filter-low-pct
        argument: float
        description: 'Filter out predictions with the smallest relative abundances summing up X%. Range: [0,100).'
      - names:
          - -h
          - --help
        argument: ""
        description: help for profile
      - names:
          - --keep-main-matches
        argument: ""
        description: Only keep main matches, abandon matches with sharply decreased qcov (> --max-qcov-gap).
      - names:
          - --keep-perfect-matches
        argument: ""
        description: Only keep the perfect matches (qcov == 1) if there are.
      - names:
          - -n
          - --keep-top-qcovs
        argument: int
        description: Keep matches with the top N qcovs for a query, 0 for all.
      - names:
          - --level
        argument: string
        description: 'Level to estimate abundance at. Available values: species, strain/assembly. (default "species")'
      - names:
          - --line-chunk-size
        argument: int
        description: Number of lines to process for each thread, and 4 threads is fast enough. Type "kmcp profile -h" for details. (default 5000)
      - names:
          - -d
          - --max-chunks-depth-stdev
        argument: float
        description: Maximum standard deviation of relative depths of all chunks. (default 2)
      - names:
          - -f
          - --max-fpr
        argument: float
        description: Maximum false positive rate of a read in search result. (default 0.01)
      - names:
          - -R
          - --max-mismatch-err
        argument: float
        description: 'Maximum error rate of a read being matched to a wrong reference, for determing the right reference for ambiguous reads. Range: (0, 1). (default 0.05)'
      - names:
          - --max-qcov-gap
        argument: float
        description: Max qcov gap between adjacent matches. (default 0.4)
      - names:
          - -M
          - --metaphlan-report
        argument: string
        description: Save extra metaphlan-like report.
      - names:
          - --metaphlan-report-version
        argument: string
        description: Metaphlan report version (2 or 3) (default "3")
      - names:
          - -p
          - --min-chunks-fraction
        argument: float
        description: Minimum fraction of matched reference chunks with reads >= -r/--min-chunks-reads. (default 0.8)
      - names:
          - -r
          - --min-chunks-reads
        argument: int
        description: Minimum number of reads for a reference chunk. (default 50)
      - names:
          - -D
          - --min-dreads-prop
        argument: float
        description: 'Minimum proportion of distinct reads, for determing the right reference for ambiguous reads. Range: (0, 1). (default 0.05)'
      - names:
          - -U
          - --min-hic-ureads
        argument: int
        description: Minimum number of high-confidence uniquely matched reads for a reference. (default 5)
      - names:
          - -P
          - --min-hic-ureads-prop
        argument: float
        description: Minimum proportion of high-confidence uniquely matched reads. (default 0.1)
      - names:
          - -H
          - --min-hic-ureads-qcov
        argument: float
        description: Minimum query coverage of high-confidence uniquely matched reads. (default 0.75)
      - names:
          - -t
          - --min-query-cov
        argument: float
        description: Minimum query coverage of a read in search result. (default 0.55)
      - names:
          - -u
          - --min-uniq-reads
        argument: int
        description: Minimum number of uniquely matched reads for a reference. (default 20)
      - names:
          - -m
          - --mode
        argument: int
        description: 'Profiling mode, type "kmcp profile -h" for details. available values: 0 (for pathogen detection), 1 (higherrecall), 2 (high recall), 3 (default), 4 (high precision), 5 (higher precision). (default 3)'
      - names:
          - -N
          - --name-map
        argument: strings
        description: Tabular two-column file(s) mapping reference IDs to reference names.
      - names:
          - --no-amb-corr
        argument: ""
        description: Do not correct ambiguous reads. Use this flag to reduce analysis time if the stage 1/4 produces thousands of candidates.
      - names:
          - --norm-abund
        argument: string
        description: 'Method for normalize abundance of a reference by the mean/min/max abundance in all chunks, available values: mean, min, max. (default "mean")'
      - names:
          - -o
          - --out-prefix
        argument: string
        description: Out file prefix ("-" for stdout). (default "-")
      - names:
          - --rank-prefix
        argument: strings
        description: Prefixes of taxon name in certain ranks, used with --metaphlan-report. (default [k__,p__,c__,o__,f__,g__,s__,t__])
      - names:
          - -s
          - --sample-id
        argument: string
        description: Sample ID in result file.
      - names:
          - -S
          - --separator
        argument: string
        description: Separator of TaxIds and taxonomy names. (default ";")
      - names:
          - --show-rank
        argument: strings
        description: Only show TaxIds and names of these ranks. (default [superkingdom,phylum,class,order,family,genus,species,strain])
      - names:
          - -X
          - --taxdump
        argument: string
        description: 'Directory of NCBI taxonomy dump files: names.dmp, nodes.dmp, optional with merged.dmp and delnodes.dmp.'
      - names:
          - -T
          - --taxid-map
        argument: strings
        description: Tabular two-column file(s) mapping reference IDs to TaxIds.
      - names:
          - --taxonomy-id
        argument: string
        description: Taxonomy ID in result file.
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: search
    description: Search sequences against a database
    usage: kmcp search [flags] [-w] -d <kmcp db> [-t <min-query-cov>] [read1.fq.gz] [read2.fq.gz] [unpaired.fq.gz] [-o read.tsv.gz]
    options:
      - names:
          - '-'
        argument: ""
        description: Faster startup speed when index files are buffered in memory.
      - names:
          - '-'
        argument: ""
        description: Multiple KMCP processes can share the memory.
      - names:
          - '-'
        argument: ""
        description: It's slightly faster due to the use of physically contiguous memory. The speedup is more significant for smaller databases.
      - names:
          - '-'
        argument: ""
        description: Do not load all index files into memory nor use mmap, using file seeking.
      - names:
          - '-'
        argument: ""
        description: It's much slower, >4X slower on SSD and would be much slower on HDD disks.
      - names:
          - "-1"
          - "-2"
        argument: sample_1.fq.gz
        description: 3. In computer clusters, where databases are saved in NAS storages.
      - names:
          - "-1"
        argument: sample_1.fq.gz -2 sample_2.fq.gz
        description: 3. In computer clusters, where databases are saved in NAS storages.
      - names:
          - -d
          - --db-dir
        argument: string
        description: Database directory created by "kmcp index". Please add -w/--load-whole-db for databases on network-attached storages (NAS), e.g., a computer cluster environment.
      - names:
          - -D
          - --default-name-map
        argument: ""
        description: Load ${db}/__name_mapping.tsv for mapping name first.
      - names:
          - -S
          - --do-not-sort
        argument: ""
        description: Do not sort matches of a query.
      - names:
          - -h
          - --help
        argument: ""
        description: help for search
      - names:
          - -n
          - --keep-top-scores
        argument: int
        description: Keep matches with the top N scores for a query, 0 for all.
      - names:
          - -K
          - --keep-unmatched
        argument: ""
        description: Keep unmatched query sequence information.
      - names:
          - -u
          - --kmer-dedup-threshold
        argument: int
        description: Remove duplicated kmers for a query with >= X k-mers. (default 256)
      - names:
          - -w
          - --load-whole-db
        argument: ""
        description: Load all index files into memory, it's faster for small databases but needs more memory. Use this for databases on network-attached storages (NAS). Please read "Index files loading modes" in "kmcp search -h".
      - names:
          - --low-mem
        argument: ""
        description: Do not load all index files into memory nor use mmap, the searching would be very very slow for a large number of queries. Please read "Index files loading modes" in "kmcp search -h".
      - names:
          - -f
          - --max-fpr
        argument: float
        description: Maximum false positive rate of a query. (default 0.01)
      - names:
          - -c
          - --min-kmers
        argument: int
        description: Minimum number of matched k-mers (sketches). (default 10)
      - names:
          - -t
          - --min-query-cov
        argument: float
        description: Minimum query coverage, i.e., proportion of matched k-mers and unique k-mers of a query. (default 0.55)
      - names:
          - -m
          - --min-query-len
        argument: int
        description: Minimum query length. (default 30)
      - names:
          - -T
          - --min-target-cov
        argument: float
        description: Minimum target coverage, i.e., proportion of matched k-mers and unique k-mers of a target.
      - names:
          - -N
          - --name-map
        argument: strings
        description: Tabular two-column file(s) mapping reference IDs to user-defined values. Don't use this if you will use the result for metagenomic profiling which needs the original reference IDs.
      - names:
          - -H
          - --no-header-row
        argument: ""
        description: Do not print header row.
      - names:
          - -o
          - --out-file
        argument: string
        description: Out file, supports and recommends a ".gz" suffix ("-" for stdout). (default "-")
      - names:
          - --query-id
        argument: string
        description: Custom query Id when using the whole file as a query.
      - names:
          - -g
          - --query-whole-file
        argument: ""
        description: Use the whole file as a query, e.g., for genome similarity estimation against k-mer sketch database.
      - names:
          - "-1"
          - --read1
        argument: string
        description: (Gzipped) read1 file.
      - names:
          - "-2"
          - --read2
        argument: string
        description: (Gzipped) read2 file.
      - names:
          - -s
          - --sort-by
        argument: string
        description: Sort hits by "qcov", "tcov" or "jacc" (Jaccard Index). (default "qcov")
      - names:
          - --try-se
        argument: ""
        description: If paired-end reads have no hits, re-search with read1, if still fails, try read2.
      - names:
          - -G
          - --use-filename
        argument: ""
        description: Use file name as query ID when using the whole file as a query.
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
  - name: utils
    description: Some utilities
    usage: kmcp utils [command]
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: help for utils
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
    subcommands:
      - name: cov2simi
        description: Convert k-mer coverage to sequence similarity
        usage: kmcp utils cov2simi [flags]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: help for cov2simi
          - names:
              - -o
              - --out-prefix
            argument: string
            description: Out file prefix ("-" for stdout). (default "-")
          - names:
              - -t
              - --query-cov
            argument: float
            description: 'K-mer query coverage, i.e., proportion of matched k-mers and unique k-mers of a query. range: [0, 1]'
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: filter
        description: Filter search results and find species/assembly-specific queries
        usage: kmcp utils filter [flags]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: help for filter
          - names:
              - --level
            argument: string
            description: 'Level to filter. available values: species, strain/assembly. (default "species")'
          - names:
              - --line-chunk-size
            argument: int
            description: Number of lines to process for each thread, and 4 threads is fast enough. Type "kmcp utils filter" for details. (default 5000)
          - names:
              - -f
              - --max-fpr
            argument: float
            description: Maximum false positive rate of a read in search result. (default 0.05)
          - names:
              - -t
              - --min-query-cov
            argument: float
            description: Minimum query coverage of a read in search result. (default 0.55)
          - names:
              - -H
              - --no-header-row
            argument: ""
            description: Do not print header row.
          - names:
              - -o
              - --out-prefix
            argument: string
            description: Out file prefix ("-" for stdout). (default "-")
          - names:
              - -X
              - --taxdump
            argument: string
            description: 'Directory of NCBI taxonomy dump files: names.dmp, nodes.dmp, optional with merged.dmp and delnodes.dmp.'
          - names:
              - -T
              - --taxid-map
            argument: strings
            description: Tabular two-column file(s) mapping reference IDs to TaxIds.
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: index-info
        description: Print information of index file
        usage: kmcp utils index-info [flags]
        options:
          - names:
              - -a
              - --all
            argument: ""
            description: Show all information.
          - names:
              - -b
              - --basename
            argument: ""
            description: Only output basenames of files.
          - names:
              - -h
              - --help
            argument: ""
            description: help for index-info
          - names:
              - -o
              - --out-prefix
            argument: string
            description: Out file prefix ("-" for stdout). (default "-")
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: merge-regions
        description: Merge species/assembly-specific regions
        usage: kmcp utils merge-regions [flags]
        options:
          - names:
              - -o
            argument: ref.fna.gz.kmcp.uniq.tsv.gz
            description: '# 3. Merging regions.'
          - names:
              - -h
              - --help
            argument: ""
            description: help for merge-regions
          - names:
              - -I
              - --ignore-type
            argument: ""
            description: Merge species and assembly-specific regions.
          - names:
              - --line-chunk-size
            argument: int
            description: Number of lines to process for each thread, and 4 threads is fast enough. Type "kmcp utils merge-regions -h" for details. (default 5000)
          - names:
              - -f
              - --max-fpr
            argument: float
            description: Maximum false positive rate of a read in search result. (default 0.05)
          - names:
              - -g
              - --max-gap
            argument: int
            description: Maximum distance of starting positions of two adjacent regions, 0 for no limitation, 1 for no merging.
          - names:
              - -l
              - --min-overlap
            argument: int
            description: Minimum overlap of two adjacent regions, recommend K-1. (default 1)
          - names:
              - -t
              - --min-query-cov
            argument: float
            description: Minimum query coverage of a read in search result. (default 0.55)
          - names:
              - -a
              - --name-assembly
            argument: string
            description: Name of assembly-specific regions. (default "assembly-specific")
          - names:
              - -s
              - --name-species
            argument: string
            description: Name of species-specific regions. (default "species-specific")
          - names:
              - -o
              - --out-prefix
            argument: string
            description: Out file prefix ("-" for stdout). (default "-")
          - names:
              - -r
              - --regexp
            argument: string
            description: Regular expression for extract reference name and query locations. (default "^(.+)_sliding:(\\d+)\\-(\\d+)$")
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: query-fpr
        description: Compute the false positive rate of a query
        usage: kmcp utils query-fpr [flags]
        options:
          - names:
              - -H
              - --add-header
            argument: ""
            description: Add header line (column names
          - names:
              - -a
              - --all
            argument: ""
            description: Also show the value of -f, -n, and -t
          - names:
              - -f
              - --false-positive-rate
            argument: float
            description: 'False positive rate of a single k-mer, i.e., FPR of the bloom filters in the database. range: (0, 1) (default 0.3)'
          - names:
              - -h
              - --help
            argument: ""
            description: help for query-fpr
          - names:
              - -m
              - --matched-kmers
            argument: int
            description: The number of matched k-mers of a query. (default 35)
          - names:
              - -n
              - --num-kmers
            argument: int
            description: Number of unique k-mers of the query. (default 70)
          - names:
              - -o
              - --out-prefix
            argument: string
            description: Out file prefix ("-" for stdout). (default "-")
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: ref-info
        description: Print information of reference chunks in a database
        usage: kmcp utils ref-info [flags]
        options:
          - names:
              - -d
              - --db-dir
            argument: string
            description: Database directory created by "kmcp index".
          - names:
              - -h
              - --help
            argument: ""
            description: help for ref-info
          - names:
              - -H
              - --no-header-row
            argument: ""
            description: Do not print header row.
          - names:
              - -o
              - --out-file
            argument: string
            description: Out file, supports and recommends a ".gz" suffix ("-" for stdout). (default "-")
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: split-genomes
        description: Split genomes into chunks
        usage: kmcp utils split-genomes [flags] [-k <k>] [-n <chunks>] [-l <overlap>] {[-I <seqs dir>] | <seq files>} -O <out dir>
        options:
          - names:
              - --circular
            argument: ""
            description: Input sequences are circular.
          - names:
              - -r
              - --file-regexp
            argument: string
            description: Regular expression for matching sequence files in -I/--in-dir, case ignored. (default "\\.(f[aq](st[aq])?|fna)(.gz)?$")
          - names:
              - --force
            argument: ""
            description: Overwrite existed output directory.
          - names:
              - -f
              - --frag-size
            argument: int
            description: size of sequence fragments to be assigned to the reference genome chunks. (default 100)
          - names:
              - -h
              - --help
            argument: ""
            description: help for split-genomes
          - names:
              - -I
              - --in-dir
            argument: string
            description: Directory containing FASTA files. Directory symlinks are followed.
          - names:
              - --info-file
            argument: string
            description: An extra output file to show which chunk(s) are assigned to for each genome fragment.
          - names:
              - -k
              - --kmer
            argument: int
            description: K-mer size. (default 21)
          - names:
              - -O
              - --out-dir
            argument: string
            description: Output directory.
          - names:
              - -B
              - --seq-name-filter
            argument: strings
            description: List of regular expressions for filtering out sequences by header/name, case ignored.
          - names:
              - -m
              - --split-min-ref
            argument: int
            description: Only splitting sequences >= X bp. (default 1000)
          - names:
              - -n
              - --split-number
            argument: int
            description: Chunk number for splitting sequences, incompatible with -s/--split-size.
          - names:
              - -l
              - --split-overlap
            argument: int
            description: Chunk overlap for splitting sequences. The default value will be set to k-1 unless you change it.
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
      - name: unik-info
        description: Print information of .unik file
        usage: kmcp utils unik-info [flags]
        options:
          - names:
              - -a
              - --all
            argument: ""
            description: All information, including the number of k-mers.
          - names:
              - -b
              - --basename
            argument: ""
            description: Only output basename of files.
          - names:
              - -h
              - --help
            argument: ""
            description: help for unik-info
          - names:
              - -o
              - --out-file
            argument: string
            description: Out file ("-" for stdout, suffix .gz for gzipped out.) (default "-")
          - names:
              - -e
              - --skip-err
            argument: ""
            description: Skip error, only show warning message.
          - names:
              - --symbol-false
            argument: string
            description: Smybol for false. (default "✕")
          - names:
              - --symbol-true
            argument: string
            description: Smybol for true. (default "✓")
          - names:
              - -T
              - --tabular
            argument: ""
            description: Output in machine-friendly tabular format.
          - names:
              - -i
              - --infile-list
            argument: string
            description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
          - names:
              - --log
            argument: string
            description: Log file.
          - names:
              - -q
              - --quiet
            argument: ""
            description: Do not print any verbose information. But you can write them to file with --log.
          - names:
              - -j
              - --threads
            argument: int
            description: Number of CPUs cores to use. (default 8)
  - name: version
    description: Print version information and check for update
    usage: kmcp version [flags]
    options:
      - names:
          - -u
          - --check-update
        argument: ""
        description: check update
      - names:
          - -h
          - --help
        argument: ""
        description: help for version
      - names:
          - -i
          - --infile-list
        argument: string
        description: File of input files list (one file per line). If given, they are appended to files from CLI arguments.
      - names:
          - --log
        argument: string
        description: Log file.
      - names:
          - -q
          - --quiet
        argument: ""
        description: Do not print any verbose information. But you can write them to file with --log.
      - names:
          - -j
          - --threads
        argument: int
        description: Number of CPUs cores to use. (default 8)
version: kmcp v0.9.0
