name: medaka
description: medaka
usage: |-
  medaka [-h] [--version]
         {compress_bam,features,train,consensus,smolecule,consensus_from_features,fastrle,stitch,variant,snp,tools} ...
options:
  - names:
      - -h
      - --help
    argument: ""
    description: show this help message and exit
  - names:
      - --version
    argument: ""
    description: show program's version number and exit
subcommands:
  - name: compress_bam
    description: Compress an alignment into RLE form.
    usage: medaka compress_bam [-h] [--debug | --quiet] [--regions REGIONS [REGIONS ...]] [--threads THREADS] [--use_fast5_info <fast5_dir> <index> <fast5_dir> <index>] bam_input bam_output ref_fname
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic regions to analyse, or a bed file. (default: None)'
      - names:
          - --threads
        argument: THREADS
        description: 'Number of threads for parallel execution. (default: 1)'
      - names:
          - --use_fast5_info
        argument: <fast5_dir> <index> <fast5_dir> <index>
        description: 'Root directory containing the fast5 files and .tsv file with columns filename and read_id. (default: None)'
  - name: features
    description: Create features for inference.
    usage: medaka features [-h] [--debug | --quiet] [--batch_size BATCH_SIZE] [--chunk_len CHUNK_LEN] [--chunk_ovlp CHUNK_OVLP] [--regions REGIONS [REGIONS ...]] [--truth TRUTH] [--truth_haplotag TRUTH_HAPLOTAG] [--threads THREADS] [--label_scheme {DiploidLabelScheme,HaploidLabelScheme,RLELabelScheme}] [--label_scheme_args KEY1=VAL1 KEY2=VAL2a,VAL2b... [KEY1=VAL1 KEY2=VAL2a,VAL2b... ...]] [--feature_encoder {CountsFeatureEncoder,HardRLEFeatureEncoder,SoftRLEFeatureEncoder,SymHardRLEFeatureEncoder}] [--feature_encoder_args KEY1=VAL1 KEY2=VAL2a,VAL2b... [KEY1=VAL1 KEY2=VAL2a,VAL2b... ...]] bam output
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --batch_size
        argument: BATCH_SIZE
        description: 'Inference batch size. (default: 100)'
      - names:
          - --chunk_len
        argument: CHUNK_LEN
        description: 'Chunk length of samples. (default: 10000)'
      - names:
          - --chunk_ovlp
        argument: CHUNK_OVLP
        description: 'Overlap of chunks. (default: 1000)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic regions to analyse, or a bed file. (default: None)'
      - names:
          - --truth
        argument: TRUTH
        description: 'Bam of truth aligned to ref to create features for training. (default: None)'
      - names:
          - --truth_haplotag
        argument: TRUTH_HAPLOTAG
        description: 'Two-letter tag defining haplotype of alignments for polyploidy labels. (default: None)'
      - names:
          - --threads
        argument: THREADS
        description: 'Number of threads for parallel execution. (default: 1)'
      - names:
          - --label_scheme
        argument: '{DiploidLabelScheme,HaploidLabelScheme,RLELabelScheme}'
        description: 'Labelling scheme. (default: HaploidLabelScheme)'
      - names:
          - --label_scheme_args
        argument: KEY1=VAL1 KEY2=VAL2a,VAL2b... [KEY1=VAL1 KEY2=VAL2a,VAL2b... ...]
        description: 'Label scheme key-word arguments. (default: {})'
      - names:
          - --feature_encoder
        argument: '{CountsFeatureEncoder,HardRLEFeatureEncoder,SoftRLEFeatureEncoder,SymHardRLEFeatureEncoder}'
        description: 'FeatureEncoder used to create the features. (default: CountsFeatureEncoder)'
      - names:
          - --feature_encoder_args
        argument: KEY1=VAL1 KEY2=VAL2a,VAL2b... [KEY1=VAL1 KEY2=VAL2a,VAL2b... ...]
        description: 'Feature encoder key-word arguments. (default: {})'
    positionalArguments:
      - name: bam
        description: Input alignments.
      - name: output
        description: Output features file.
  - name: train
    description: Train a model from features.
    usage: medaka train [-h] [--debug | --quiet] [--train_name TRAIN_NAME] [--model MODEL] [--epochs EPOCHS] [--batch_size BATCH_SIZE] [--max_samples MAX_SAMPLES] [--mini_epochs MINI_EPOCHS] [--seed SEED] [--threads_io THREADS_IO] [--device DEVICE] [--optimizer {nadam,rmsprop}] [--optim_args KEY1=VAL1,KEY2=VAL2... [KEY1=VAL1,KEY2=VAL2... ...]] [--validation_split VALIDATION_SPLIT | --validation_features VALIDATION_FEATURES [VALIDATION_FEATURES ...]] features [features ...]
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --train_name
        argument: TRAIN_NAME
        description: 'Name for training run. (default: keras_train)'
      - names:
          - --model
        argument: MODEL
        description: 'Model definition and initial weights .hdf, or .yml with kwargs to build model. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: None)'
      - names:
          - --epochs
        argument: EPOCHS
        description: 'Maximum number of trainig epochs. (default: 5000)'
      - names:
          - --batch_size
        argument: BATCH_SIZE
        description: 'Training batch size. (default: 100)'
      - names:
          - --max_samples
        argument: MAX_SAMPLES
        description: 'Only train on max_samples. (default: inf)'
      - names:
          - --mini_epochs
        argument: MINI_EPOCHS
        description: 'Reduce fraction of data per epoch by this factor (default: 1)'
      - names:
          - --seed
        argument: SEED
        description: 'Seed for random batch shuffling. (default: None)'
      - names:
          - --threads_io
        argument: THREADS_IO
        description: 'Number of threads for parallel IO. (default: 1)'
      - names:
          - --device
        argument: DEVICE
        description: 'GPU device to use. (default: 0)'
      - names:
          - --optimizer
        argument: '{nadam,rmsprop}'
        description: 'Optimizer to use. (default: rmsprop)'
      - names:
          - --optim_args
        argument: KEY1=VAL1,KEY2=VAL2... [KEY1=VAL1,KEY2=VAL2... ...]
        description: 'Optimizer key-word arguments. (default: None)'
      - names:
          - --validation_split
        argument: VALIDATION_SPLIT
        description: 'Fraction of data to validate on. (default: 0.2)'
      - names:
          - --validation_features
        argument: VALIDATION_FEATURES [VALIDATION_FEATURES ...]
        description: 'Paths to validation data (default: None)'
  - name: consensus
    description: Run inference from a trained model and alignments.
    usage: medaka consensus [-h] [--debug | --quiet] [--batch_size BATCH_SIZE] [--chunk_len CHUNK_LEN] [--chunk_ovlp CHUNK_OVLP] [--regions REGIONS [REGIONS ...]] [--model MODEL] [--RG READGROUP] [--threads THREADS] [--bam_workers BAM_WORKERS] [--bam_chunk BAM_CHUNK] [--check_output] [--save_features] [--tag_name TAG_NAME] [--tag_value TAG_VALUE] [--tag_keep_missing] bam output
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --batch_size
        argument: BATCH_SIZE
        description: 'Inference batch size. (default: 100)'
      - names:
          - --chunk_len
        argument: CHUNK_LEN
        description: 'Chunk length of samples. (default: 10000)'
      - names:
          - --chunk_ovlp
        argument: CHUNK_OVLP
        description: 'Overlap of chunks. (default: 1000)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic regions to analyse, or a bed file. (default: None)'
      - names:
          - --model
        argument: MODEL
        description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
      - names:
          - --threads
        argument: THREADS
        description: 'Number of threads used by inference. (default: 1)'
      - names:
          - --bam_workers
        argument: BAM_WORKERS
        description: 'Number of workers used to prepare data from bam. (default: 2)'
      - names:
          - --bam_chunk
        argument: BAM_CHUNK
        description: 'Size of reference chunks each worker parses from bam. (can be used to control memory use). (default: 1000000)'
      - names:
          - --check_output
        argument: ""
        description: 'Verify integrity of output file after inference. (default: False)'
      - names:
          - --save_features
        argument: ""
        description: 'Save features with consensus probabilities. (default: False)'
      - names:
          - --RG
        argument: READGROUP
        description: 'Read group to select. (default: None)'
      - names:
          - --tag_name
        argument: TAG_NAME
        description: 'Two-letter tag name. (default: None)'
      - names:
          - --tag_value
        argument: TAG_VALUE
        description: 'Value of tag. (default: None)'
      - names:
          - --tag_keep_missing
        argument: ""
        description: 'Keep alignments when tag is missing. (default: False)'
    positionalArguments:
      - name: bam
        description: Input alignments.
      - name: output
        description: Output file.
  - name: smolecule
    description: Create consensus sequences from single-molecule reads.
    usage: medaka smolecule [-h] [--debug | --quiet] [--batch_size BATCH_SIZE] [--chunk_len CHUNK_LEN] [--chunk_ovlp CHUNK_OVLP] [--model MODEL] [--min_depth MIN_DEPTH] [--method {spoa}] [--depth DEPTH] [--length LENGTH] [--threads THREADS] [--check_output] [--save_features] [--qualities] output fasta [fasta ...]
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --batch_size
        argument: BATCH_SIZE
        description: 'Inference batch size. (default: 100)'
      - names:
          - --chunk_len
        argument: CHUNK_LEN
        description: 'Chunk length of samples. (default: 1000)'
      - names:
          - --chunk_ovlp
        argument: CHUNK_OVLP
        description: 'Overlap of chunks. (default: 500)'
      - names:
          - --model
        argument: MODEL
        description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
      - names:
          - --min_depth
        argument: MIN_DEPTH
        description: 'Sites with depth lower than min_depth will not be polished. (default: 0)'
      - names:
          - --method
        argument: '{spoa}'
        description: 'Pre-medaka consensus generation method. (default: spoa)'
      - names:
          - --depth
        argument: DEPTH
        description: 'Minimum subread count. (default: 3)'
      - names:
          - --length
        argument: LENGTH
        description: 'Minimum median subread length. (default: 400)'
      - names:
          - --threads
        argument: THREADS
        description: 'Number of threads used by inference. (default: 1)'
      - names:
          - --check_output
        argument: ""
        description: 'Verify integrity of output file after inference. (default: False)'
      - names:
          - --save_features
        argument: ""
        description: 'Save features with consensus probabilities. (default: False)'
      - names:
          - --qualities
        argument: ""
        description: 'Output consensus with per-base quality scores (fastq). (default: False)'
  - name: consensus_from_features
    description: Run inference from a trained model on existing features.
    usage: medaka consensus_from_features [-h] [--debug | --quiet] [--model MODEL] features [features ...]
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --model
        argument: MODEL
        description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
  - name: fastrle
    description: Create run-length encoded fastq (lengths in quality track).
    usage: medaka fastrle [-h] [--debug | --quiet] [--block_size BLOCK_SIZE] input
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --block_size
        argument: BLOCK_SIZE
        description: 'Block size for hompolymer splitting, e.g. with a value of blocksize=3, AAAA -> A3 A1. (default: 94)'
  - name: stitch
    description: Stitch together output from medaka consensus into final output.
    usage: medaka stitch [-h] [--debug | --quiet] [--regions REGIONS [REGIONS ...]] [--min_depth MIN_DEPTH] [--threads THREADS] [--no-fillgaps] [--fill_char FILL_CHAR] [--qualities] inputs [inputs ...] draft output
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic ref_names to process, or a bed file. (default: None)'
      - names:
          - --min_depth
        argument: MIN_DEPTH
        description: 'Sites with depth lower than min_depth will not be polished. (default: 0)'
      - names:
          - --threads
        argument: THREADS
        description: 'Number of worker processes to use. (default: 1)'
      - names:
          - --no-fillgaps
        argument: ""
        description: 'Don''t fill gaps in consensus sequence with draft sequence. (default: True)'
      - names:
          - --fill_char
        argument: FILL_CHAR
        description: 'Use a designated character to fill gaps. (default: None)'
      - names:
          - --qualities
        argument: ""
        description: 'Output with per-base quality scores (fastq). (default: False)'
  - name: variant
    description: Decode probabilities to VCF.
    usage: medaka variant [-h] [--debug | --quiet] [--regions REGIONS [REGIONS ...]] [--verbose] [--ambig_ref] [--gvcf] ref_fasta inputs [inputs ...] output
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic ref_names to process, or a bed file. (default: None)'
      - names:
          - --verbose
        argument: ""
        description: 'Populate VCF info fields. (default: False)'
      - names:
          - --ambig_ref
        argument: ""
        description: 'Decode variants at ambiguous reference positions. (default: False)'
      - names:
          - --gvcf
        argument: ""
        description: 'Output VCF records for reference loci predicted to be non-variant. (default: False)'
  - name: snp
    description: Decode probabilities to SNPs.
    usage: medaka snp [-h] [--debug | --quiet] [--regions REGIONS [REGIONS ...]] [--threshold THRESHOLD] [--ref_vcf REF_VCF] [--verbose] ref_fasta inputs [inputs ...] output
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
      - names:
          - --regions
        argument: REGIONS [REGIONS ...]
        description: 'Genomic ref_names to process, or a bed file. (default: None)'
      - names:
          - --threshold
        argument: THRESHOLD
        description: 'Threshold for considering secondary calls. A value of 1 will result in haploid decoding. (default: 0.04)'
      - names:
          - --ref_vcf
        argument: REF_VCF
        description: 'Reference vcf. (default: None)'
      - names:
          - --verbose
        argument: ""
        description: 'Populate VCF info fields. (default: False)'
  - name: tools
    description: tools subcommand.
    usage: medaka tools [-h] [--debug | --quiet] {haploid2diploid,diploid2haploid,classify_variants,annotate,consensus2vcf,vcf2tsv,homozygous_regions,resolve_model,is_rle_model,get_alignment_params,rlebam,list_models,hdf_to_bed,download_models} ...
    options:
      - names:
          - -h
          - --help
        argument: ""
        description: show this help message and exit
      - names:
          - --debug
        argument: ""
        description: 'Verbose logging of debug information. (default: 20)'
      - names:
          - --quiet
        argument: ""
        description: 'Minimal logging; warnings only). (default: 20)'
    subcommands:
      - name: haploid2diploid
        description: Merge two haploid VCFs into a diploid VCF.
        usage: medaka tools haploid2diploid [-h] [--debug | --quiet] [--discard_phase] [--adjacent] [--split_mnp] vcf1 vcf2 ref_fasta vcfout
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --discard_phase
            argument: ""
            description: 'output unphased diploid vcf (default: False)'
          - names:
              - --adjacent
            argument: ""
            description: 'Merge adjacent variants (i.e. variants with non-overlapping genomic ranges) instead of just overlapping ones. If set to True, all runs of adjacent variants will be merged including those which appear in just one of the input VCFs. (default: False)'
          - names:
              - --split_mnp
            argument: ""
            description: 'Split each mnp into multiple snps. (default: False)'
      - name: diploid2haploid
        description: Split a diploid VCF into two haploid VCFs.
        usage: medaka tools diploid2haploid [-h] [--debug | --quiet] [--notrim] vcf
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --notrim
            argument: ""
            description: 'Do not trim variant to minimal ref and alt and update pos. (default: False)'
      - name: classify_variants
        description: Classify variants and write vcf for each type and subtype.
        usage: medaka tools classify_variants [-h] [--debug | --quiet] [--replace_info] vcf
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --replace_info
            argument: ""
            description: 'Replace info tag (useful for visual inspection of types). (default: False)'
      - name: annotate
        description: Annotate vcf with read depth and supporting reads info fields.
        usage: medaka tools annotate [-h] [--debug | --quiet] [--RG READGROUP] [--chunk_size CHUNK_SIZE] [--pad PAD] [--dpsp] vcf ref_fasta bam vcfout
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --chunk_size
            argument: CHUNK_SIZE
            description: 'Chunk size for building pileups. (default: 500000)'
          - names:
              - --pad
            argument: PAD
            description: 'Padding width either side of variant for realignment. (default: 25)'
          - names:
              - --dpsp
            argument: ""
            description: 'Calulate depth and alignment score of spanning reads (default: False)'
          - names:
              - --RG
            argument: READGROUP
            description: 'Read group to select. (default: None)'
      - name: consensus2vcf
        description: Call variants by alignment of a consensus sequence to a reference.
        usage: medaka tools consensus2vcf [-h] [--debug | --quiet] [--chunk_size CHUNK_SIZE] [--pad PAD] [--mode {NW,HW,HWT}] [--regions REGIONS [REGIONS ...]] [--bam BAM] [--out_prefix OUT_PREFIX] consensus ref_fasta
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --regions
            argument: REGIONS [REGIONS ...]
            description: 'Genomic ref_names to process, or a bed file. (default: None)'
          - names:
              - --bam
            argument: BAM
            description: 'Existing bam file. (default: None)'
          - names:
              - --out_prefix
            argument: OUT_PREFIX
            description: 'Output prefix for .bam and .vcf files. (default: consensus2vcf)'
          - names:
              - --chunk_size
            argument: CHUNK_SIZE
            description: 'Size of consensus chunks (default: 100000)'
          - names:
              - --pad
            argument: PAD
            description: 'Reference chunks are chunk_size + pad. (default: 10000)'
          - names:
              - --mode
            argument: '{NW,HW,HWT}'
            description: 'Edlib alignment mode. NW: global in consensus and ref. HW: global in consensus, local in ref. HWT: same as HW, but alignments trimmed to start and end on a match. (default: HWT)'
      - name: vcf2tsv
        description: convert vcf to tsv, unpacking info and sample columns.
        usage: medaka tools vcf2tsv [-h] [--debug | --quiet] vcf
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
      - name: homozygous_regions
        description: Find homozygous regions from a diploid vcf.
        usage: medaka tools homozygous_regions [-h] [--debug | --quiet] [--min_len MIN_LEN] [--suffix SUFFIX] vcf region
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --min_len
            argument: MIN_LEN
            description: 'Minimum region length. (default: 1000)'
          - names:
              - --suffix
            argument: SUFFIX
            description: 'Output suffix. (default: regions.txt)'
      - name: resolve_model
        description: Resolve model and print full file path.
        usage: medaka tools resolve_model [-h] [--debug | --quiet] [--model MODEL]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --model
            argument: MODEL
            description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
      - name: is_rle_model
        description: Check if a model is an RLE model.
        usage: medaka tools is_rle_model [-h] [--model MODEL]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --model
            argument: MODEL
            description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
      - name: list_models
        description: List all models.
        usage: medaka tools list_models [-h] [--debug | --quiet] [--model MODEL]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --model
            argument: MODEL
            description: 'Model to use. {r103_fast_g507, r103_fast_snp_g507, r103_fast_variant_g507, r103_hac_g507, r103_hac_snp_g507, r103_hac_variant_g507, r103_min_high_g345, r103_min_high_g360, r103_prom_high_g360, r103_prom_snp_g3210, r103_prom_variant_g3210, r103_sup_g507, r103_sup_snp_g507, r103_sup_variant_g507, r1041_e82_260bps_fast_g632, r1041_e82_260bps_fast_variant_g632, r1041_e82_260bps_hac_g632, r1041_e82_260bps_hac_variant_g632, r1041_e82_260bps_sup_g632, r1041_e82_260bps_sup_variant_g632, r1041_e82_400bps_fast_g615, r1041_e82_400bps_fast_g632, r1041_e82_400bps_fast_variant_g615, r1041_e82_400bps_fast_variant_g632, r1041_e82_400bps_hac_g615, r1041_e82_400bps_hac_g632, r1041_e82_400bps_hac_variant_g615, r1041_e82_400bps_hac_variant_g632, r1041_e82_400bps_sup_g615, r1041_e82_400bps_sup_variant_g615, r104_e81_fast_g5015, r104_e81_fast_variant_g5015, r104_e81_hac_g5015, r104_e81_hac_variant_g5015, r104_e81_sup_g5015, r104_e81_sup_g610, r104_e81_sup_variant_g610, r10_min_high_g303, r10_min_high_g340, r941_e81_fast_g514, r941_e81_fast_variant_g514, r941_e81_hac_g514, r941_e81_hac_variant_g514, r941_e81_sup_g514, r941_e81_sup_variant_g514, r941_min_fast_g303, r941_min_fast_g507, r941_min_fast_snp_g507, r941_min_fast_variant_g507, r941_min_hac_g507, r941_min_hac_snp_g507, r941_min_hac_variant_g507, r941_min_high_g303, r941_min_high_g330, r941_min_high_g340_rle, r941_min_high_g344, r941_min_high_g351, r941_min_high_g360, r941_min_sup_g507, r941_min_sup_snp_g507, r941_min_sup_variant_g507, r941_prom_fast_g303, r941_prom_fast_g507, r941_prom_fast_snp_g507, r941_prom_fast_variant_g507, r941_prom_hac_g507, r941_prom_hac_snp_g507, r941_prom_hac_variant_g507, r941_prom_high_g303, r941_prom_high_g330, r941_prom_high_g344, r941_prom_high_g360, r941_prom_high_g4011, r941_prom_snp_g303, r941_prom_snp_g322, r941_prom_snp_g360, r941_prom_sup_g507, r941_prom_sup_snp_g507, r941_prom_sup_variant_g507, r941_prom_variant_g303, r941_prom_variant_g322, r941_prom_variant_g360, r941_sup_plant_g610, r941_sup_plant_variant_g610} (default: r941_min_hac_g507)'
      - name: hdf_to_bed
        description: Write a bed file of regions spanned by a hdf file.
        usage: medaka tools hdf_to_bed [-h] [--debug | --quiet] inputs [inputs ...] output
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
      - name: download_models
        description: Download model files for any models not already installed.
        usage: medaka tools download_models [-h] [--debug | --quiet] [--models MODELS [MODELS ...]]
        options:
          - names:
              - -h
              - --help
            argument: ""
            description: show this help message and exit
          - names:
              - --debug
            argument: ""
            description: 'Verbose logging of debug information. (default: 20)'
          - names:
              - --quiet
            argument: ""
            description: 'Minimal logging; warnings only). (default: 20)'
          - names:
              - --models
            argument: MODELS [MODELS ...]
            description: 'Model(s) to download to cache. (default: [''r103_fast_g507'', ''r103_fast_snp_g507'', ''r103_fast_variant_g507'', ''r103_hac_g507'', ''r103_hac_snp_g507'', ''r103_hac_variant_g507'', ''r103_min_high_g345'', ''r103_min_high_g360'', ''r103_prom_high_g360'', ''r103_prom_snp_g3210'', ''r103_prom_variant_g3210'', ''r103_sup_g507'', ''r103_sup_snp_g507'', ''r103_sup_variant_g507'', ''r1041_e82_260bps_fast_g632'', ''r1041_e82_260bps_fast_variant_g632'', ''r1041_e82_260bps_hac_g632'', ''r1041_e82_260bps_hac_variant_g632'', ''r1041_e82_260bps_sup_g632'', ''r1041_e82_260bps_sup_variant_g632'', ''r1041_e82_400bps_fast_g615'', ''r1041_e82_400bps_fast_g632'', ''r1041_e82_400bps_fast_variant_g615'', ''r1041_e82_400bps_fast_variant_g632'', ''r1041_e82_400bps_hac_g615'', ''r1041_e82_400bps_hac_g632'', ''r1041_e82_400bps_hac_variant_g615'', ''r1041_e82_400bps_hac_variant_g632'', ''r1041_e82_400bps_sup_g615'', ''r1041_e82_400bps_sup_variant_g615'', ''r104_e81_fast_g5015'', ''r104_e81_fast_variant_g5015'', ''r104_e81_hac_g5015'', ''r104_e81_hac_variant_g5015'', ''r104_e81_sup_g5015'', ''r104_e81_sup_g610'', ''r104_e81_sup_variant_g610'', ''r10_min_high_g303'', ''r10_min_high_g340'', ''r941_e81_fast_g514'', ''r941_e81_fast_variant_g514'', ''r941_e81_hac_g514'', ''r941_e81_hac_variant_g514'', ''r941_e81_sup_g514'', ''r941_e81_sup_variant_g514'', ''r941_min_fast_g303'', ''r941_min_fast_g507'', ''r941_min_fast_snp_g507'', ''r941_min_fast_variant_g507'', ''r941_min_hac_g507'', ''r941_min_hac_snp_g507'', ''r941_min_hac_variant_g507'', ''r941_min_high_g303'', ''r941_min_high_g330'', ''r941_min_high_g340_rle'', ''r941_min_high_g344'', ''r941_min_high_g351'', ''r941_min_high_g360'', ''r941_min_sup_g507'', ''r941_min_sup_snp_g507'', ''r941_min_sup_variant_g507'', ''r941_prom_fast_g303'', ''r941_prom_fast_g507'', ''r941_prom_fast_snp_g507'', ''r941_prom_fast_variant_g507'', ''r941_prom_hac_g507'', ''r941_prom_hac_snp_g507'', ''r941_prom_hac_variant_g507'', ''r941_prom_high_g303'', ''r941_prom_high_g330'', ''r941_prom_high_g344'', ''r941_prom_high_g360'', ''r941_prom_high_g4011'', ''r941_prom_snp_g303'', ''r941_prom_snp_g322'', ''r941_prom_snp_g360'', ''r941_prom_sup_g507'', ''r941_prom_sup_snp_g507'', ''r941_prom_sup_variant_g507'', ''r941_prom_variant_g303'', ''r941_prom_variant_g322'', ''r941_prom_variant_g360'', ''r941_sup_plant_g610'', ''r941_sup_plant_variant_g610''])'
version: medaka 1.7.2
