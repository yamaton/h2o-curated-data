name: sambamba
description: sambamba
usage: sambamba [command] [args...]
options: []
inheritedOptions:
  - names:
      - -q
    argument: ""
    description: quiet mode (do not show banner)
subcommands:
  - name: view
    description: view contents and convert from one format to another (SAM/BAM/JSON/UNPACK)
    usage: sambamba-view [options] <input.bam | input.sam> [region1 [...]]
    options:
      - names:
          - --num-filter
        argument: NUMFILTER
        description: filter flag bits; 'i1/i2' corresponds to -f i1 -F i2 samtools arguments; either of the numbers can be omitted
      - names:
          - -f
          - --format
        argument: sam|bam|json|unpack
        description: specify which format to use for output (default is SAM); unpack streams unpacked BAM
      - names:
          - -h
          - --with-header
        argument: ""
        description: print header before reads (always done for BAM output)
      - names:
          - -H
          - --header
        argument: ""
        description: output only header to stdout (if format=bam, the header is printed as SAM)
      - names:
          - -I
          - --reference-info
        argument: ""
        description: output to stdout only reference names and lengths in JSON
      - names:
          - -L
          - --regions
        argument: FILENAME
        description: output only reads overlapping one of regions from the BED file
      - names:
          - -c
          - --count
        argument: ""
        description: output to stdout only count of matching records, hHI are ignored
      - names:
          - -v
          - --valid
        argument: ""
        description: output only valid alignments
      - names:
          - -S
          - --sam-input
        argument: ""
        description: specify that input is in SAM format
      - names:
          - -T
          - --ref-filename
        argument: FASTA
        description: specify reference for writing (NA)
      - names:
          - -p
          - --show-progress
        argument: ""
        description: show progressbar in STDERR (works only for BAM files with no regions specified)
      - names:
          - -l
          - --compression-level
        argument: ""
        description: specify compression level (from 0 to 9, works only for BAM output)
      - names:
          - -o
          - --output-filename
        argument: ""
        description: specify output filename
      - names:
          - -t
          - --nthreads
        argument: NTHREADS
        description: maximum number of threads to use
      - names:
          - -s
          - --subsample
        argument: FRACTION
        description: subsample reads (read pairs)
      - names:
          - --subsampling-seed
        argument: SEED
        description: set seed for subsampling
  - name: index
    description: build index (BAI)
    usage: |-
      sambamba-index [OPTIONS] <input.bam|input.fasta> [output_file]

       Creates index for a BAM, or FASTA file
    options:
      - names:
          - -p
          - --show-progress
        argument: ""
        description: show progress bar in STDERR
      - names:
          - -c
          - --check-bins
        argument: ""
        description: check that bins are set correctly
      - names:
          - -F
          - --fasta-input
        argument: ""
        description: specify that input is in FASTA format
  - name: merge
    description: merge files (BAM)
    usage: sambamba-merge [options] <output.bam> <input1.bam> <input2.bam> [...]
    options:
      - names:
          - -l
          - --compression-level
        argument: COMPRESSION_LEVEL
        description: level of compression for merged BAM file, number from 0 to 9
      - names:
          - -H
          - --header
        argument: ""
        description: output merged header to stdout in SAM format, other options are ignored; mainly for debug purposes
      - names:
          - -p
          - --show-progress
        argument: ""
        description: show progress bar in STDERR
      - names:
          - -F
          - --filter
        argument: FILTER
        description: keep only reads that satisfy FILTER
  - name: sort
    description: sort file (BAM)
    usage: ""
    options: []
  - name: slice
    description: slice file (BAM using BED)
    usage: |-
      sambamba-slice [options] <input.bam|input.fasta> [region1 [...]]

      Fast copy of a region from indexed BAM or FASTA file to a new file

      Regions are given in standard form ref:beg-end.
      FASTA index file name must match FASTA file name, e.g. <input.fai>
      In addition, region '*' denotes reads with no reference.
      Output is to STDOUT unless output filename is specified.
    options:
      - names:
          - -F
          - --fasta-input
        argument: ""
        description: specify that input is in FASTA format
      - names:
          - -L
          - --regions
        argument: FILENAME
        description: output only reads overlapping one of regions from the BED file
  - name: markdup
    description: mark or remove duplicates (BAM)
    usage: |-
      sambamba-markdup [options] <input.bam> [<input2.bam> [...]] <output.bam>
      By default, marks the duplicates without removing them
    options:
      - names:
          - -t
          - --nthreads
        argument: NTHREADS
        description: number of threads to use
      - names:
          - -l
          - --compression-level
        argument: "N"
        description: specify compression level of the resulting file (from 0 to 9)
      - names:
          - -p
          - --show-progress
        argument: ""
        description: show progressbar in STDERR
      - names:
          - --tmpdir
        argument: TMPDIR
        description: specify directory for temporary files
      - names:
          - --hash-table-size
        argument: HASH_TABLE_SIZE
        description: size of hash table for finding read pairs (default is 262144 reads); will be rounded down to the nearest power of two; should be > (average coverage) * (insert size) for good performance
      - names:
          - --overflow-list-size
        argument: OVERFLOW_LIST_SIZE
        description: size of the overflow list where reads, thrown from the hash table, get a second chance to meet their pairs (default is 200000 reads); increasing the size reduces the number of temporary files created
      - names:
          - --sort-buffer-size
        argument: SORT_BUFFER_SIZE
        description: total amount of memory (in *megabytes*) used for sorting purposes; the default is 2048, increasing it will reduce the number of created temporary files and the time spent in the main thread
      - names:
          - --io-buffer-size
        argument: BUFFER_SIZE
        description: two buffers of BUFFER_SIZE *megabytes* each are used for reading and writing BAM during the second pass (default is 128)
  - name: subsample
    description: subsample (BAM)
    usage: ""
    options: []
  - name: flagstat
    description: output statistics (BAM)
    usage: sambamba-flagstat [options] <input.bam>
    options:
      - names:
          - -p
          - --show-progress
        argument: ""
        description: show progressbar in STDERR
      - names:
          - -b
          - --tabular
        argument: ""
        description: output in csv format
  - name: depth
    description: output statistics (BAM)
    usage: |-
      sambamba-depth region|window|base [options] input.bam  [input2.bam [...]]

         All BAM files must be coordinate-sorted and indexed.

         The tool has three modes: base, region, and window,
         each name means per which unit to print the statistics.
    options:
      - names:
          - -F
          - --filter
        argument: FILTER
        description: set custom filter for alignments; the default value is 'mapping_quality > 0 and not duplicate and not failed_quality_control'
      - names:
          - -o
          - --output-file
        argument: FILENAME
        description: output filename (by default /dev/stdout)
      - names:
          - -t
          - --nthreads
        argument: NTHREADS
        description: maximum number of threads to use
      - names:
          - -c
          - --min-coverage
        argument: MINCOVERAGE
        description: 'minimum mean coverage for output (default: 0 for region/window, 1 for base)'
      - names:
          - -C
          - --max-coverage
        argument: MAXCOVERAGE
        description: maximum mean coverage for output
      - names:
          - -q
          - --min-base-quality
        argument: QUAL
        description: don't count bases with lower base quality
      - names:
          - --combined
        argument: ""
        description: output combined statistics for all samples
      - names:
          - -a
          - --annotate
        argument: ""
        description: add additional column of y/n instead of skipping records not satisfying the criteria
      - names:
          - -m
          - --fix-mate-overlaps
        argument: ""
        description: detect overlaps of mate reads and handle them on per-base basis
      - names:
          - -L
          - --regions
        argument: FILENAME|REGION
        description: list or regions of interest or a single region in form chr:beg-end (optional)
      - names:
          - -z
          - --report-zero-coverage
        argument: (DEPRECATED, use --min-coverage=0 instead)
        description: don't skip zero coverage bases
      - names:
          - -L
          - --regions
        argument: FILENAME|REGION
        description: list or regions of interest or a single region in form chr:beg-end (required)
      - names:
          - -T
          - --cov-threshold
        argument: COVTHRESHOLD
        description: multiple thresholds can be provided, for each one an extra column will be added, the percentage of bases in the region where coverage is more than this value
      - names:
          - -w
          - --window-size
        argument: WINDOWSIZE
        description: breadth of the window, in bp (required)
      - names:
          - --overlap
        argument: OVERLAP
        description: overlap of successive windows, in bp (default is 0)
      - names:
          - -T
          - --cov-threshold
        argument: COVTHRESHOLD
        description: same meaning as in 'region' subcommand
  - name: validate
    description: simple validator (BAM)
    usage: ""
    options: []
version: sambamba 0.8.2