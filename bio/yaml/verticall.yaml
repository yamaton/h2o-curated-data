name: verticall
description: a tool for finding vertical inheritance in bacterial genomes
usage: ""
options:
  - names:
      - -h
      - --help
    argument: ""
    description: Show this help message and exit
  - names:
      - --version
    argument: ""
    description: Show program's version number and exit
subcommands:
  - name: pairwise
    description: pairwise analysis of assemblies
    usage: verticall pairwise -i IN_DIR -o OUT_FILE [-r REFERENCE] [--window_count WINDOW_COUNT] [--window_size WINDOW_SIZE] [--ignore_indels] [--smoothing_factor SMOOTHING_FACTOR] [--secondary SECONDARY] [--verbose] [--index_options INDEX_OPTIONS] [--align_options ALIGN_OPTIONS] [--allowed_overlap ALLOWED_OVERLAP] [-t THREADS] [--part PART] [--index_only] [--skip_check] [--existing_tsv EXISTING_TSV] [-h] [--version]
    options:
      - names:
          - -i
          - --in_dir
        argument: IN_DIR
        description: Directory containing assemblies in FASTA format
      - names:
          - -o
          - --out_file
        argument: OUT_FILE
        description: Filename of TSV output
      - names:
          - -r
          - --reference
        argument: REFERENCE
        description: Reference assembly in FASTA format
      - names:
          - --window_count
        argument: WINDOW_COUNT
        description: 'Aim to have at least this many comparison windows between assemblies (default: 50000)'
      - names:
          - --window_size
        argument: WINDOW_SIZE
        description: 'Use this defined window size for all pairwise comparisons (default: dynamically choose window size for each pair)'
      - names:
          - --ignore_indels
        argument: ""
        description: 'Only use mismatches to determine distance (default: use both mismatches and gap-compressed indels)'
      - names:
          - --smoothing_factor
        argument: SMOOTHING_FACTOR
        description: 'Degree to which the distance distribution is smoothed (default: 0.8)'
      - names:
          - --secondary
        argument: SECONDARY
        description: 'Peaks with a mass of at least this fraction of the most massive peak will be used to produce secondary distances (default: 0.7)'
      - names:
          - --verbose
        argument: ""
        description: 'Output more detail to stderr for debugging (default: only output basic information)'
      - names:
          - --index_options
        argument: INDEX_OPTIONS
        description: 'Minimap2 options for assembly indexing (default: -k15 -w10)'
      - names:
          - --align_options
        argument: ALIGN_OPTIONS
        description: 'Minimap2 options for assembly-to-assembly alignment (default: -x asm20)'
      - names:
          - --allowed_overlap
        argument: ALLOWED_OVERLAP
        description: 'Allow this much overlap between alignments (default: 100)'
      - names:
          - -t
          - --threads
        argument: THREADS
        description: 'CPU threads for parallel processing (default: 12)'
      - names:
          - --part
        argument: PART
        description: 'Fraction of the data to analyse (for parallelisation, default: 1/1)'
      - names:
          - --index_only
        argument: ""
        description: 'Quit after building indices (default: continue to pairwise analysis)'
      - names:
          - --skip_check
        argument: ""
        description: 'Do not carry out the assembly check for duplicate contig names and ambiguous bases (default: perform the assembly check)'
      - names:
          - --existing_tsv
        argument: EXISTING_TSV
        description: 'Verticall will skip any assembly pairs present in this existing TSV file (default: do not skip any pairs)'
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
  - name: view
    description: view plots for a single assembly pair
    usage: verticall view -i IN_DIR -n NAMES [--window_count WINDOW_COUNT] [--window_size WINDOW_SIZE] [--ignore_indels] [--smoothing_factor SMOOTHING_FACTOR] [--secondary SECONDARY] [--verbose] [--index_options INDEX_OPTIONS] [--align_options ALIGN_OPTIONS] [--allowed_overlap ALLOWED_OVERLAP] [--sqrt_distance] [--sqrt_mass] [--result RESULT] [--vertical_colour VERTICAL_COLOUR] [--horizontal_colour HORIZONTAL_COLOUR] [--ambiguous_colour AMBIGUOUS_COLOUR] [-h] [--version]
    options:
      - names:
          - -i
          - --in_dir
        argument: IN_DIR
        description: Directory containing assemblies in FASTA format
      - names:
          - -n
          - --names
        argument: NAMES
        description: Two sample names (comma-delimited) to be viewed
      - names:
          - --window_count
        argument: WINDOW_COUNT
        description: 'Aim to have at least this many comparison windows between assemblies (default: 50000)'
      - names:
          - --window_size
        argument: WINDOW_SIZE
        description: 'Use this defined window size for all pairwise comparisons (default: dynamically choose window size for each pair)'
      - names:
          - --ignore_indels
        argument: ""
        description: 'Only use mismatches to determine distance (default: use both mismatches and gap-compressed indels)'
      - names:
          - --smoothing_factor
        argument: SMOOTHING_FACTOR
        description: 'Degree to which the distance distribution is smoothed (default: 0.8)'
      - names:
          - --secondary
        argument: SECONDARY
        description: 'Peaks with a mass of at least this fraction of the most massive peak will be used to produce secondary distances (default: 0.7)'
      - names:
          - --verbose
        argument: ""
        description: 'Output more detail to stderr for debugging (default: only output basic information)'
      - names:
          - --index_options
        argument: INDEX_OPTIONS
        description: 'Minimap2 options for assembly indexing (default: -k15 -w10)'
      - names:
          - --align_options
        argument: ALIGN_OPTIONS
        description: 'Minimap2 options for assembly-to-assembly alignment (default: -x asm20)'
      - names:
          - --allowed_overlap
        argument: ALLOWED_OVERLAP
        description: 'Allow this much overlap between alignments (default: 100)'
      - names:
          - --sqrt_distance
        argument: ""
        description: 'Use a square-root transform on the genomic distance axis (default: no distance axis transform)'
      - names:
          - --sqrt_mass
        argument: ""
        description: 'Use a square-root transform on the probability mass axis (default: no mass axis transform)'
      - names:
          - --result
        argument: RESULT
        description: 'Number of result to plot (used when there are multiple possible results for the pair, default: 1)'
      - names:
          - --vertical_colour
        argument: VERTICAL_COLOUR
        description: 'Hex colour for vertical inheritance (default: #4859a0)'
      - names:
          - --horizontal_colour
        argument: HORIZONTAL_COLOUR
        description: 'Hex colour for horizontal inheritance (default: #c47e7e)'
      - names:
          - --ambiguous_colour
        argument: AMBIGUOUS_COLOUR
        description: 'Hex colour for ambiguous inheritance (default: #c9c9c9)'
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
  - name: matrix
    description: produce a PHYLIP distance matrix
    usage: verticall matrix -i IN_FILE -o OUT_FILE [--distance_type {mean,mean_window,median_window,peak_window,mean_vertical_window,median_vertical_window,mean_vertical}] [--asymmetrical] [--no_jukes_cantor] [--multi {first,exclude,low,high}] [--include_names INCLUDE_NAMES] [--exclude_names EXCLUDE_NAMES] [-h] [--version]
    options:
      - names:
          - -i
          - --in_file
        argument: IN_FILE
        description: Filename of TSV created by vertical pairwise
      - names:
          - -o
          - --out_file
        argument: OUT_FILE
        description: Filename of PHYLIP matrix output
      - names:
          - --distance_type
        argument: '{mean,mean_window,median_window,peak_window,mean_vertical_window,median_vertical_window,mean_vertical}'
        description: 'Which distance to use in matrix (default: median_vertical_window)'
      - names:
          - --asymmetrical
        argument: ""
        description: 'Do not average pairs to make symmetrical matrices (default: make matrices symmetrical)'
      - names:
          - --no_jukes_cantor
        argument: ""
        description: 'Do not apply Jukes-Cantor correction (default: apply Jukes-Cantor correction)'
      - names:
          - --multi
        argument: '{first,exclude,low,high}'
        description: 'Behaviour when there are multiple results for a sample pair (default: first)'
      - names:
          - --include_names
        argument: INCLUDE_NAMES
        description: 'Samples names to include in matrix (comma-delimited, default: include all samples)'
      - names:
          - --exclude_names
        argument: EXCLUDE_NAMES
        description: 'Samples names to exclude from matrix (comma-delimited, default: do not exclude any samples)'
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
  - name: mask
    description: mask horizontal regions from a whole-genome pseudo-alignment
    usage: verticall mask -i IN_TSV -a IN_ALIGNMENT -o OUT_ALIGNMENT [--image IMAGE] [--vertical_colour VERTICAL_COLOUR] [--horizontal_colour HORIZONTAL_COLOUR] [--unaligned_colour UNALIGNED_COLOUR] [--reference REFERENCE] [--multi {first,exclude,low,high}] [--h_char H_CHAR] [--u_char U_CHAR] [--exclude_invariant] [--exclude_reference] [-h] [--version]
    options:
      - names:
          - -i
          - --in_tsv
        argument: IN_TSV
        description: Filename of TSV created by vertical pairwise
      - names:
          - -a
          - --in_alignment
        argument: IN_ALIGNMENT
        description: Filename of whole-genome pseudo-alignment to be masked
      - names:
          - -o
          - --out_alignment
        argument: OUT_ALIGNMENT
        description: Filename of masked whole-genome pseudo-alignment
      - names:
          - --image
        argument: IMAGE
        description: Filename of SVG illustration of masked regions (optional)
      - names:
          - --vertical_colour
        argument: VERTICAL_COLOUR
        description: 'Hex colour for vertical inheritance (default: #4859a0)'
      - names:
          - --horizontal_colour
        argument: HORIZONTAL_COLOUR
        description: 'Hex colour for horizontal inheritance (default: #c47e7e)'
      - names:
          - --unaligned_colour
        argument: UNALIGNED_COLOUR
        description: 'Hex colour for unaligned inheritance (default: #c9c9c9)'
      - names:
          - --reference
        argument: REFERENCE
        description: 'Sample name for the reference genome (default: determine automatically if possible from the TSV file)'
      - names:
          - --multi
        argument: '{first,exclude,low,high}'
        description: 'Behaviour when there are multiple results for a sample pair (default: first)'
      - names:
          - --h_char
        argument: H_CHAR
        description: 'Character used to mask horizontal regions (default: N, use None to leave horizontal regions unmasked)'
      - names:
          - --u_char
        argument: U_CHAR
        description: 'Character used to mask unaligned regions (default: -, use None to leave unaligned regions unmasked)'
      - names:
          - --exclude_invariant
        argument: ""
        description: 'Only include variant sites in the output alignment (default: include both variant and invariant sites in the output alignment)'
      - names:
          - --exclude_reference
        argument: ""
        description: 'Do not include the reference sequence in the output alignment (default: include the reference sequence in the output alignment)'
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
  - name: summary
    description: summarise regions for one assembly
    usage: verticall summary -i IN_FILE -a ASSEMBLY [--all] [--plot] [--vertical_colour VERTICAL_COLOUR] [--horizontal_colour HORIZONTAL_COLOUR] [--unaligned_colour UNALIGNED_COLOUR] [-h] [--version]
    options:
      - names:
          - -i
          - --in_file
        argument: IN_FILE
        description: Filename of TSV created by vertical pairwise
      - names:
          - -a
          - --assembly
        argument: ASSEMBLY
        description: Filename of assembly to be summarised
      - names:
          - --all
        argument: ""
        description: 'Output one line for all assembly positions (default: omit redundant adjacent lines)'
      - names:
          - --plot
        argument: ""
        description: 'Instead of outputting a table, display an interactive plot (default: do not display a plot)'
      - names:
          - --vertical_colour
        argument: VERTICAL_COLOUR
        description: 'Hex colour for vertical inheritance (default: #4859a0)'
      - names:
          - --horizontal_colour
        argument: HORIZONTAL_COLOUR
        description: 'Hex colour for horizontal inheritance (default: #c47e7e)'
      - names:
          - --unaligned_colour
        argument: UNALIGNED_COLOUR
        description: 'Hex colour for unaligned inheritance (default: #c9c9c9)'
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
  - name: repair
    description: repair assembly for use in Verticall
    usage: verticall repair -i IN_FILE -o OUT_FILE [-h] [--version]
    options:
      - names:
          - -i
          - --in_file
        argument: IN_FILE
        description: Filename of assembly in need of repair
      - names:
          - -o
          - --out_file
        argument: OUT_FILE
        description: Filename of repaired assembly output (if the same as -i, the input file will be overwritten)
      - names:
          - -h
          - --help
        argument: ""
        description: Show this help message and exit
      - names:
          - --version
        argument: ""
        description: Show program's version number and exit
version: Verticall v0.4.3
