name: iperf3
description: iperf3
usage: |-
  iperf3 [-s|-c host] [options]
  iperf3 [-h|--help] [-v|--version]
options:
  - names:
      - -p
      - --port
    argument: '#'
    description: server port to listen on/connect to
  - names:
      - -f
      - --format
    argument: '[kmgtKMGT]'
    description: 'format to report: Kbits, Mbits, Gbits, Tbits'
  - names:
      - -i
      - --interval
    argument: '#'
    description: seconds between periodic throughput reports
  - names:
      - -F
      - --file
    argument: name
    description: xmit/recv the specified file
  - names:
      - -A
      - --affinity
    argument: n/n,m
    description: set CPU affinity
  - names:
      - -B
      - --bind
    argument: <host>
    description: bind to the interface associated with the address <host>
  - names:
      - -V
      - --verbose
    argument: ""
    description: more detailed output
  - names:
      - -J
      - --json
    argument: ""
    description: output in JSON format
  - names:
      - --logfile
    argument: f
    description: send output to a log file
  - names:
      - --forceflush
    argument: ""
    description: force flushing output at every interval
  - names:
      - --timestamps
    argument: <format>
    description: emit a timestamp at the start of each output line (using optional format string as per strftime(3))
  - names:
      - -d
      - --debug
    argument: ""
    description: emit debugging output
  - names:
      - -v
      - --version
    argument: ""
    description: show version information and quit
  - names:
      - -h
      - --help
    argument: ""
    description: show this message and quit
  - names:
      - -s
      - --server
    argument: ""
    description: run in server mode
  - names:
      - -D
      - --daemon
    argument: ""
    description: run the server as a daemon
  - names:
      - -I
      - --pidfile
    argument: file
    description: write PID file
  - names:
      - "-1"
      - --one-off
    argument: ""
    description: handle one client connection then exit
  - names:
      - --server-bitrate-limit
    argument: '#[KMG][/#]'
    description: server's total bit rate limit (default 0 = no limit) (optional slash and number of secs interval for averaging total data rate. Default is 5 seconds)
  - names:
      - --rsa-private-key-path
    argument: ""
    description: path to the RSA private key used to decrypt authentication credentials
  - names:
      - --authorized-users-path
    argument: ""
    description: path to the configuration file containing user credentials
  - names:
      - -c
      - --client
    argument: <host>
    description: run in client mode, connecting to <host>
  - names:
      - --sctp
    argument: ""
    description: use SCTP rather than TCP
  - names:
      - -X
      - --xbind
    argument: <name>
    description: bind SCTP association to links
  - names:
      - --nstreams
    argument: '#'
    description: number of SCTP streams
  - names:
      - -u
      - --udp
    argument: ""
    description: use UDP rather than TCP
  - names:
      - --connect-timeout
    argument: '#'
    description: timeout for control connection setup (ms)
  - names:
      - -b
      - --bitrate
    argument: '#[KMG][/#]'
    description: target bitrate in bits/sec (0 for unlimited) (default 1 Mbit/sec for UDP, unlimited for TCP) (optional slash and packet count for burst mode)
  - names:
      - --pacing-timer
    argument: '#[KMG]'
    description: set the timing for pacing, in microseconds (default 1000)
  - names:
      - --fq-rate
    argument: '#[KMG]'
    description: enable fair-queuing based socket pacing in bits/sec (Linux only)
  - names:
      - -t
      - --time
    argument: '#'
    description: time in seconds to transmit for (default 10 secs)
  - names:
      - -n
      - --bytes
    argument: '#[KMG]'
    description: number of bytes to transmit (instead of -t)
  - names:
      - -k
      - --blockcount
    argument: '#[KMG]'
    description: number of blocks (packets) to transmit (instead of -t or -n)
  - names:
      - -l
      - --length
    argument: '#[KMG]'
    description: length of buffer to read or write (default 128 KB for TCP, dynamic or 1460 for UDP)
  - names:
      - --cport
    argument: <port>
    description: 'bind to a specific client port (TCP and UDP, default: ephemeral port)'
  - names:
      - -P
      - --parallel
    argument: '#'
    description: number of parallel client streams to run
  - names:
      - -R
      - --reverse
    argument: ""
    description: run in reverse mode (server sends, client receives)
  - names:
      - --bidir
    argument: ""
    description: run in bidirectional mode. Client and server send and receive data.
  - names:
      - -w
      - --window
    argument: '#[KMG]'
    description: set window size / socket buffer size
  - names:
      - -C
      - --congestion
    argument: <algo>
    description: set TCP congestion control algorithm (Linux and FreeBSD only)
  - names:
      - -M
      - --set-mss
    argument: '#'
    description: set TCP/SCTP maximum segment size (MTU - 40 bytes)
  - names:
      - -N
      - --no-delay
    argument: ""
    description: set TCP/SCTP no delay, disabling Nagle's Algorithm
  - names:
      - "-4"
      - --version4
    argument: ""
    description: only use IPv4
  - names:
      - "-6"
      - --version6
    argument: ""
    description: only use IPv6
  - names:
      - -S
      - --tos
    argument: "N"
    description: set the IP type of service, 0-255. The usual prefixes for octal and hex can be used, i.e. 52, 064 and 0x34 all specify the same value.
  - names:
      - --dscp
    argument: "N"
    description: set the IP dscp value, either 0-63 or symbolic. Numeric values can be specified in decimal, octal and hex (see --tos above).
  - names:
      - -L
      - --flowlabel
    argument: "N"
    description: set the IPv6 flow label (only supported on Linux)
  - names:
      - -Z
      - --zerocopy
    argument: ""
    description: use a 'zero copy' method of sending data
  - names:
      - -O
      - --omit
    argument: "N"
    description: omit the first n seconds
  - names:
      - -T
      - --title
    argument: str
    description: prefix every output line with this string
  - names:
      - --extra-data
    argument: str
    description: data string to include in client and server JSON
  - names:
      - --get-server-output
    argument: ""
    description: get results from server
  - names:
      - --udp-counters-64bit
    argument: ""
    description: use 64-bit counters in UDP test packets
  - names:
      - --repeating-payload
    argument: ""
    description: use repeating pattern in payload, instead of randomized payload (like in iperf2)
  - names:
      - --username
    argument: ""
    description: username for authentication
  - names:
      - --rsa-public-key-path
    argument: ""
    description: path to the RSA public key used to encrypt authentication credentials
version: iperf 3.9 (cJSON 1.7.13)
tldr: |
  > Traffic generator for testing network bandwidth.
  > More information: <https://iperf.fr>.

  - Run iperf3 as a server:

  `iperf3 -s`

  - Run an iperf3 server on a specific port:

  `iperf3 -s -p {{port}}`

  - Start bandwidth test:

  `iperf3 -c {{server}}`

  - Run iperf3 in multiple parallel streams:

  `iperf3 -c {{server}} -P {{streams}}`

  - Reverse direction of the test. Server sends data to the client:

  `iperf3 -c {{server}} -R`
